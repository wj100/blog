<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Unable to prerender all routes(亲测有效)</title>
    <url>/2023/01/11/Unable%20to%20prerender%20all%20routes(%E4%BA%B2%E6%B5%8B%E6%9C%89%E6%95%88)/</url>
    <content><![CDATA[<p>使用prerender-spa-plugin打包报错<br>mac下这里设置为 headless: true,<br>更换插件</p>
<pre><code>yarn add @dreysolano/prerender-spa-plugin



const PrerenderSPAPlugin = require(&#39;@dreysolano/prerender-spa-plugin&#39;);
</code></pre>
<h3 id="因为使用了webpack5-有些插件没有更新导致的"><a href="#因为使用了webpack5-有些插件没有更新导致的" class="headerlink" title="因为使用了webpack5 有些插件没有更新导致的"></a>因为使用了webpack5 有些插件没有更新导致的</h3>]]></content>
  </entry>
  <entry>
    <title>Enter passphrase for key(输入密码短语)</title>
    <url>/2023/01/11/Enter%20passphrase%20for%20key(%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81%E7%9F%AD%E8%AF%AD)/</url>
    <content><![CDATA[<h3 id="解决办法：删除passphrase"><a href="#解决办法：删除passphrase" class="headerlink" title="解决办法：删除passphrase"></a>解决办法：删除passphrase</h3><p>键入</p>
<pre><code>ssh-keygen -p
</code></pre>
<p>会要求输入一遍私钥路径，照着后面的括号敲一遍就好<br>然后Enter old passphrase: 输入<br>Enter new passphrase：输入新的时候直接回车即可删除passphrase</p>
]]></content>
  </entry>
  <entry>
    <title>brew换源</title>
    <url>/2023/01/11/brew%E6%8D%A2%E6%BA%90/</url>
    <content><![CDATA[<h1 id="查看-brew-git-当前源"><a href="#查看-brew-git-当前源" class="headerlink" title="查看 brew.git 当前源"></a>查看 brew.git 当前源</h1><p>$ cd “$(brew –repo)” &amp;&amp; git remote -v<br>origin <a href="https://github.com/Homebrew/brew.git">https://github.com/Homebrew/brew.git</a> (fetch)<br>origin <a href="https://github.com/Homebrew/brew.git">https://github.com/Homebrew/brew.git</a> (push)</p>
<h1 id="查看-homebrew-core-git-当前源"><a href="#查看-homebrew-core-git-当前源" class="headerlink" title="查看 homebrew-core.git 当前源"></a>查看 homebrew-core.git 当前源</h1><p>$ cd “$(brew –repo homebrew&#x2F;core)” &amp;&amp; git remote -v<br>origin <a href="https://github.com/Homebrew/homebrew-core.git">https://github.com/Homebrew/homebrew-core.git</a> (fetch)<br>origin <a href="https://github.com/Homebrew/homebrew-core.git">https://github.com/Homebrew/homebrew-core.git</a> (push)</p>
<h1 id="修改-brew-git-为阿里源"><a href="#修改-brew-git-为阿里源" class="headerlink" title="修改 brew.git 为阿里源"></a>修改 brew.git 为阿里源</h1><p>$ git -C “$(brew –repo)” remote set-url origin<br><a href="https://mirrors.aliyun.com/homebrew/brew.git">https://mirrors.aliyun.com/homebrew/brew.git</a></p>
<h1 id="修改-homebrew-core-git-为阿里源"><a href="#修改-homebrew-core-git-为阿里源" class="headerlink" title="修改 homebrew-core.git 为阿里源"></a>修改 homebrew-core.git 为阿里源</h1><p>$ git -C “$(brew –repo homebrew&#x2F;core)” remote set-url origin<br><a href="https://mirrors.aliyun.com/homebrew/homebrew-core.git">https://mirrors.aliyun.com/homebrew/homebrew-core.git</a></p>
<h1 id="zsh-替换-brew-bintray-镜像"><a href="#zsh-替换-brew-bintray-镜像" class="headerlink" title="zsh 替换 brew bintray 镜像"></a>zsh 替换 brew bintray 镜像</h1><p>$ echo ‘export<br>HOMEBREW_BOTTLE_DOMAIN&#x3D;<a href="https://mirrors.aliyun.com/homebrew/homebrew-bottles%E2%80%99">https://mirrors.aliyun.com/homebrew/homebrew-bottles’</a></p>
<blockquote>
<blockquote>
<p>~&#x2F;.zshrc<br>$ source ~&#x2F;.zshrc</p>
</blockquote>
</blockquote>
<h1 id="bash-替换-brew-bintray-镜像"><a href="#bash-替换-brew-bintray-镜像" class="headerlink" title="bash 替换 brew bintray 镜像"></a>bash 替换 brew bintray 镜像</h1><p>$ echo ‘export<br>HOMEBREW_BOTTLE_DOMAIN&#x3D;<a href="https://mirrors.aliyun.com/homebrew/homebrew-bottles%E2%80%99">https://mirrors.aliyun.com/homebrew/homebrew-bottles’</a></p>
<blockquote>
<blockquote>
<p>~&#x2F;.bash_profile<br>$ source ~&#x2F;.bash_profile</p>
</blockquote>
</blockquote>
<h1 id="刷新源"><a href="#刷新源" class="headerlink" title="刷新源"></a>刷新源</h1><p>$ brew update</p>
]]></content>
  </entry>
  <entry>
    <title>code ELIFECYCLE报错</title>
    <url>/2023/01/11/code%20ELIFECYCLE%E6%8A%A5%E9%94%99/</url>
    <content><![CDATA[<p>网上搜到的办法都是删除node_modules<br>但是并没有用<br>原来是正则表达式的问题<br>用 new RegExp 的方式去创建即可<br>将</p>
<pre><code>reg=/(?&lt;=(sem\/p|sem\/m)).*?(?=\.)/g
</code></pre>
<p>改为</p>
<pre><code>reg=new RegExp(&quot;/(?&lt;=(sem\/p|sem\/m)).*?(?=\\.)/g&quot;)
</code></pre>
<p>注意.前面加了个\</p>
]]></content>
  </entry>
  <entry>
    <title>craco打包优化</title>
    <url>/2023/01/11/craco%E6%89%93%E5%8C%85%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<p>本质还是webpack</p>
<h2 id="1-查看包体积"><a href="#1-查看包体积" class="headerlink" title="1.查看包体积"></a>1.查看包体积</h2><p>使用webpack-bundle-analyzer进行分析</p>
<pre><code>const &#123; BundleAnalyzerPlugin &#125; = require(&#39;webpack-bundle-analyzer&#39;); 
 new BundleAnalyzerPlugin(&#123;
        analyzerMode: &#39;server&#39;,
        analyzerHost: &#39;127.0.0.1&#39;,
        analyzerPort: 8888,
        openAnalyzer: true, // 构建完打开浏览器
        reportFilename: path.resolve(__dirname, `analyzer/index.html`), 
    &#125;),
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/f565c3a86ea547d89e04b8a391e3fa41.png" alt="在这里插入图片描述"></p>
<h2 id="2-使用splitChunks拆分代码"><a href="#2-使用splitChunks拆分代码" class="headerlink" title="2 使用splitChunks拆分代码"></a>2 使用splitChunks拆分代码</h2><pre><code>plugins:[],
configure: (webpackConfig, &#123; env: webpackEnv, paths &#125;) =&gt; &#123;
            webpackConfig.optimization.splitChunks = &#123;
                ...webpackConfig.optimization.splitChunks,
                cacheGroups: &#123;
                    base: &#123;
                        // 基本框架
                        chunks: &#39;all&#39;,
                        test: /(react|react-dom|react-dom-router|axios)/,
                        name: &#39;base&#39;,
                        priority: 100,
                    &#125;,
                    moment: &#123;
                        test: /[\\/]node_modules[\\/]moment[\\/]/,
                        name: &#39;moment&#39;,
                        priority: 90,
                    &#125;,
                    // echarts: &#123;
                    //     test: /(echarts)/,
                    //     name: &#39;echarts&#39;,
                    //     priority: 100,
                    // &#125;,
                    commons: &#123;
                        chunks: &#39;all&#39;,
                        // 将两个以上的chunk所共享的模块打包至commons组。
                        minChunks: 2,
                        name: &#39;commons&#39;,
                        priority: 80,
                    &#125;,
                &#125;,
            &#125;;
            return webpackConfig;
        &#125;
</code></pre>
<h2 id="3-使用babel-plugin-import按需引入"><a href="#3-使用babel-plugin-import按需引入" class="headerlink" title="3.使用babel-plugin-import按需引入"></a>3.使用babel-plugin-import按需引入</h2><pre><code> babel: &#123;
    plugins: [
      // 配置 babel-plugin-import ant按需加载
      [
        &#39;import&#39;,
        &#123;
          libraryName: &#39;antd&#39;,
          libraryDirectory: &#39;es&#39;,
          style: &#39;true&#39;,
        &#125;,
        &#39;antd&#39;,
      ],
      [
        &#39;import&#39;,
        &#123;
          libraryName: &#39;moment&#39;,
          libraryDirectory: &#39;es&#39;,
          style: &#39;true&#39;,
        &#125;,
        &#39;moment&#39;,
      ],
    ],
</code></pre>
<h2 id="使用图片懒加载-LazyLoadImage"><a href="#使用图片懒加载-LazyLoadImage" class="headerlink" title="使用图片懒加载 LazyLoadImage"></a>使用图片懒加载 LazyLoadImage</h2><p>yarn add react-lazy-load-image-component</p>
<h2 id="css异步加载"><a href="#css异步加载" class="headerlink" title="css异步加载"></a>css异步加载</h2><p>css文件的加载是会block网站渲染的 因此我们可以把css异步加载 具体方法</p>
<pre><code>&lt;link href=&quot;73131f5.css&quot; rel=&quot;stylesheet&quot; media=&quot;jscourse&quot; onload=&quot;this.media=&#39;all&#39;&quot; /&gt;
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>css实现icon动画效果</title>
    <url>/2023/01/11/css%E5%AE%9E%E7%8E%B0icon%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C/</url>
    <content><![CDATA[<h4 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h4><p><a href="https://hve39i.csb.app/">链接</a></p>
<h4 id="实现方案"><a href="#实现方案" class="headerlink" title="实现方案"></a>实现方案</h4><ul>
<li>ui将动画拆成n张图拼在一起</li>
<li>使用background-position属性控制变化</li>
<li>animation属性 steps(n) 将动画拆成n关键帧</li>
</ul>
<h4 id="上代码"><a href="#上代码" class="headerlink" title="上代码"></a>上代码</h4><pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
         @keyframes entery &#123;
            0% &#123;
              background-position: 0 0;
            &#125;
            to &#123;
              background-position: 0 -4500px;
            &#125;
          &#125;
          @keyframes leave &#123;
            0% &#123;
              background-position: 0 -4500px;
            &#125;
          
            100% &#123;
              background-position: 0 0;
            &#125;
          &#125;
        .div&#123;
            width: 150px;
            height: 150px;
            border: 1px solid red;
            background-image: url(http://tva1.sinaimg.cn/large/0088t8Tlly1h71bmadw9rj308c76ce81.jpg);
            background-size: 150px;
            background-position: center 0;
            animation: leave 0.4s steps(15) forwards;
        &#125;
        .div:hover&#123;
            animation: entery 0.4s steps(15) forwards;
        &#125;
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class=&quot;div&quot;&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2023/01/11/hello-world/</url>
    <content><![CDATA[<p>hello</p>
]]></content>
  </entry>
  <entry>
    <title>mac开发环境搭建</title>
    <url>/2023/01/11/mac%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<ul>
<li><p>安装git<br><code>https://git-scm.com/</code></p>
</li>
<li><p>安装brew包管理工具</p>
<p>&#x2F;bin&#x2F;zsh -c “$(curl -fsSL <a href="https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh">https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh</a>)”</p>
</li>
<li><p>安装git node nginx。都可以用brew install xxx</p>
</li>
<li><p>打造终端</p>
<p><a href="https://zhuanlan.zhihu.com/p/37195261">https://zhuanlan.zhihu.com/p/37195261</a></p>
</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>mac鼠标和触控板方向相同</title>
    <url>/2023/01/11/mac%E9%BC%A0%E6%A0%87%E5%92%8C%E8%A7%A6%E6%8E%A7%E6%9D%BF%E6%96%B9%E5%90%91%E7%9B%B8%E5%90%8C/</url>
    <content><![CDATA[<h2 id="下载scrollreverser"><a href="#下载scrollreverser" class="headerlink" title="下载scrollreverser"></a>下载scrollreverser</h2><p><a href="https://pilotmoon.com/scrollreverser/">https://pilotmoon.com/scrollreverser/</a></p>
<h2 id="勾选方向自然"><a href="#勾选方向自然" class="headerlink" title="勾选方向自然"></a>勾选方向自然</h2><h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><p><img src="https://img-blog.csdnimg.cn/784eb81101c3424688e392533da07120.png" alt="在这里插入图片描述"></p>
]]></content>
  </entry>
  <entry>
    <title>mac电脑git clone提示没有权限</title>
    <url>/2023/01/11/mac%E7%94%B5%E8%84%91git%20clone%E6%8F%90%E7%A4%BA%E6%B2%A1%E6%9C%89%E6%9D%83%E9%99%90/</url>
    <content><![CDATA[<h2 id="公司发的mac，真香"><a href="#公司发的mac，真香" class="headerlink" title="公司发的mac，真香"></a>公司发的mac，真香</h2><h3 id="查看自己的用户名和邮箱"><a href="#查看自己的用户名和邮箱" class="headerlink" title="查看自己的用户名和邮箱"></a>查看自己的用户名和邮箱</h3><pre><code>git config --list
</code></pre>
<h3 id="生成SSH密钥"><a href="#生成SSH密钥" class="headerlink" title="生成SSH密钥"></a>生成SSH密钥</h3><pre><code>ssh-keygen -t rsa -C &quot;自己的Email地址“
</code></pre>
<h3 id="查看SSH"><a href="#查看SSH" class="headerlink" title="查看SSH"></a>查看SSH</h3><p>（windows也是相同的步骤，查看SSH用的命令不一样而已，可以直接记事本打开）</p>
<pre><code>cat /Users/电脑用户名/.ssh/id_rsa.pub
</code></pre>
<h3 id="最后把打印出来的key添加到github中"><a href="#最后把打印出来的key添加到github中" class="headerlink" title="最后把打印出来的key添加到github中"></a>最后把打印出来的key添加到github中</h3><p>setting–&gt;SHS and GPG keys—&gt;new SSH key</p>
<h3 id="最后一步"><a href="#最后一步" class="headerlink" title="最后一步"></a>最后一步</h3><pre><code>ssh -T git@github.com
</code></pre>
<p>输入yes 回车，会看到 Hi wjune211! You’ve successfully authenticated，这样就可以使用git了</p>
<h1 id="有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）"><a href="#有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）" class="headerlink" title="有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）"></a>有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）</h1><p><img src="https://img-blog.csdnimg.cn/20210630195802697.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
]]></content>
  </entry>
  <entry>
    <title>mysql启动时报错---发现系统错误2，系统找不到指定的文件</title>
    <url>/2023/01/11/mysql%E5%90%AF%E5%8A%A8%E6%97%B6%E6%8A%A5%E9%94%99---%E5%8F%91%E7%8E%B0%E7%B3%BB%E7%BB%9F%E9%94%99%E8%AF%AF2%EF%BC%8C%E7%B3%BB%E7%BB%9F%E6%89%BE%E4%B8%8D%E5%88%B0%E6%8C%87%E5%AE%9A%E7%9A%84%E6%96%87%E4%BB%B6/</url>
    <content><![CDATA[<p>启动mysql时一直提示 发现系统错误2，系统找不到指定的文件，原因是之前启动XAMPP时修改了注册表的启动路径<br>再改回来就可以了<br>1，打开注册表方式cmd输入regedit<br>2，<img src="https://img-blog.csdnimg.cn/2019061309391322.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>3，<img src="https://img-blog.csdnimg.cn/20190613093937139.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">这里填的其实也不是真的mysql路径<br>而是bin目录下的mysqld，保存就可以启动了</p>
]]></content>
  </entry>
  <entry>
    <title>myUtils.js-工作中常用的工具函数</title>
    <url>/2023/01/11/myUtils.js-%E5%B7%A5%E4%BD%9C%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<h2 id="文件下载"><a href="#文件下载" class="headerlink" title="文件下载"></a>文件下载</h2><pre><code>export const download = (res, type, filename) =&gt; &#123;
  // 创建blob对象，解析流数据
  const blob = new Blob([res], &#123;
    // 设置返回的文件类型
    // type: &#39;application/pdf;charset=UTF-8&#39; 表示下载文档为pdf，如果是word则设置为msword，excel为excel
    type: type
  &#125;)
  // 这里就是创建一个a标签，等下用来模拟点击事件
  const a = document.createElement(&#39;a&#39;)
  // 兼容webkix浏览器，处理webkit浏览器中href自动添加blob前缀，默认在浏览器打开而不是下载
  const URL = window.URL || window.webkitURL
  // 根据解析后的blob对象创建URL 对象
  const herf = URL.createObjectURL(blob)
  // 下载链接
  a.href = herf
  // 下载文件名,如果后端没有返回，可以自己写a.download = &#39;文件.pdf&#39;
  a.download = filename
  document.body.appendChild(a)
  // 点击a标签，进行下载 
  a.click()
  // 收尾工作，在内存中移除URL 对象
  document.body.removeChild(a)
  window.URL.revokeObjectURL(herf)
&#125;
</code></pre>
<h2 id="判断真"><a href="#判断真" class="headerlink" title="判断真"></a>判断真</h2><pre><code>const isTrue = (k) =&gt; &#123;
    if (typeof k === &#39;string&#39;) &#123;
        return k === &#39;true&#39;;
    &#125;
    return !!k;
&#125;
</code></pre>
<h2 id="过滤对象中的空值"><a href="#过滤对象中的空值" class="headerlink" title="过滤对象中的空值"></a>过滤对象中的空值</h2><pre><code>function filterNonNull(obj) &#123;
        return Object.fromEntries(Object.entries(obj).filter(([k, v]) =&gt; v));
    &#125;
     const queryString=(qs.stringify(filterNonNull(query)))
</code></pre>
<h2 id="忽略ts报错"><a href="#忽略ts报错" class="headerlink" title="忽略ts报错"></a>忽略ts报错</h2><pre><code>单行忽略
// @ts-ignore

忽略全文
// @ts-nocheck

取消忽略全文
// @ts-check
</code></pre>
<h2 id="字符串转json"><a href="#字符串转json" class="headerlink" title="字符串转json"></a>字符串转json</h2><pre><code>function strToJson(str)&#123;
var json = (new Function(&quot;return &quot; + str))();
return json;
&#125;

//兼容ie
function strToJson(str)&#123;
if(!str)&#123;
        return undefined
    &#125;
    var json = eval(&#39;(&#39; + str + &#39;)&#39;);
    return json;
&#125;
</code></pre>
<h2 id="按字母给对象排序"><a href="#按字母给对象排序" class="headerlink" title="按字母给对象排序"></a>按字母给对象排序</h2><pre><code>function objKeySort(obj) &#123;//排序的函数
    var newkey = Object.keys(obj).sort();
　　//先用Object内置类的keys方法获取要排序对象的属性名，再利用Array原型上的sort方法对获取的属性名进行排序，newkey是一个数组
    var newObj = &#123;&#125;;//创建一个新的对象，用于存放排好序的键值对
    for (var i = 0; i &lt; newkey.length; i++) &#123;//遍历newkey数组
        newObj[newkey[i]] = obj[newkey[i]];//向新创建的对象中按照排好的顺序依次增加键值对
    &#125;
    return newObj;//返回排好序的新对象
&#125;
</code></pre>
<h2 id="移动端适配"><a href="#移动端适配" class="headerlink" title="移动端适配"></a>移动端适配</h2><pre><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;
</code></pre>
<h2 id="移动端隐藏滚动条"><a href="#移动端隐藏滚动条" class="headerlink" title="移动端隐藏滚动条"></a>移动端隐藏滚动条</h2><pre><code>html,body&#123; width: 100%; height: 100%; overflow: scroll;&#125;
html::-webkit-scrollbar, body::-webkit-scrollbar&#123;width:0px;height:0px;&#125;
body&#123;margin:0;&#125;

.yearReport-page::-webkit-scrollbar&#123;width:0px;height:0px;&#125;
</code></pre>
<h2 id="获取屏幕缩放比"><a href="#获取屏幕缩放比" class="headerlink" title="获取屏幕缩放比"></a>获取屏幕缩放比</h2><pre><code>function detectZoom() &#123;
        var ratio = 0,
            screen = window.screen,
            ua = navigator.userAgent.toLowerCase();
 
        if (window.devicePixelRatio !== undefined) &#123;
            ratio = window.devicePixelRatio;
        &#125;
        else if (~ua.indexOf(&#39;msie&#39;)) &#123;
            if (screen.deviceXDPI &amp;&amp; screen.logicalXDPI) &#123;
                ratio = screen.deviceXDPI / screen.logicalXDPI;
            &#125;
        &#125;
        else if (window.outerWidth !== undefined &amp;&amp; window.innerWidth !== undefined) &#123;
            ratio = window.outerWidth / window.innerWidth;
        &#125;
 
        if (ratio) &#123;
            ratio = Math.round(ratio * 100);
        &#125;
        return ratio/100;

 &#125;
</code></pre>
<h2 id="echart响应式字体"><a href="#echart响应式字体" class="headerlink" title="echart响应式字体"></a>echart响应式字体</h2><pre><code>//获取屏幕宽度并计算比例.按1920传入size
function fontSize(res) &#123;
    let clientWidth =
        window.innerWidth ||
        document.documentElement.clientWidth ||
        document.body.clientWidth;
    if (!clientWidth) return;
    let fontSize = clientWidth / 1920;
    return res * fontSize;
&#125;
</code></pre>
<h2 id="rem自适应js"><a href="#rem自适应js" class="headerlink" title="rem自适应js"></a>rem自适应js</h2><pre><code>//designWidth:设计稿的实际宽度值，需要根据实际设置
//maxWidth:制作稿的最大宽度值，需要根据实际设置
//这段js的最后面有两个参数记得要设置，一个为设计稿实际宽度，一个为制作稿最大宽度，例如设计稿为750，最大宽度为750，则为(750,750)
;(function(designWidth, maxWidth) &#123;
    var doc = document,
    win = window,
    docEl = doc.documentElement,
    remStyle = document.createElement(&quot;style&quot;),
    tid;

    function refreshRem() &#123;
        var width = docEl.getBoundingClientRect().width;
        maxWidth = maxWidth || 540;
        width&gt;maxWidth &amp;&amp; (width=maxWidth);
        var rem = width * 100 / designWidth;
        remStyle.innerHTML = &#39;html&#123;font-size:&#39; + rem + &#39;px;&#125;&#39;;
    &#125;

    if (docEl.firstElementChild) &#123;
        docEl.firstElementChild.appendChild(remStyle);
    &#125; else &#123;
        var wrap = doc.createElement(&quot;div&quot;);
        wrap.appendChild(remStyle);
        doc.write(wrap.innerHTML);
        wrap = null;
    &#125;
    //要等 wiewport 设置好后才能执行 refreshRem，不然 refreshRem 会执行2次；
    refreshRem();

    win.addEventListener(&quot;resize&quot;, function() &#123;
        clearTimeout(tid); //防止执行两次
        tid = setTimeout(refreshRem, 300);
    &#125;, false);

    win.addEventListener(&quot;pageshow&quot;, function(e) &#123;
        if (e.persisted) &#123; // 浏览器后退的时候重新计算
            clearTimeout(tid);
            tid = setTimeout(refreshRem, 300);
        &#125;
    &#125;, false);

    if (doc.readyState === &quot;complete&quot;) &#123;
        doc.body.style.fontSize = &quot;16px&quot;;
    &#125; else &#123;
        doc.addEventListener(&quot;DOMContentLoaded&quot;, function(e) &#123;
            doc.body.style.fontSize = &quot;16px&quot;;
        &#125;, false);
    &#125;
&#125;)(750, 750);
</code></pre>
<h2 id="js随机色"><a href="#js随机色" class="headerlink" title="js随机色"></a>js随机色</h2><pre><code>function randomHexColor() &#123; //随机生成十六进制颜色
 return &#39;#&#39; + (&#39;00000&#39; + (Math.random() * 0x1000000 &lt;&lt; 0).toString(16)).substr(-6);
&#125;
</code></pre>
<h2 id="jsonp"><a href="#jsonp" class="headerlink" title="jsonp"></a>jsonp</h2><pre><code>function jsonp(url, data = &#123;&#125;, callback = &#39;callback&#39;) &#123;
    //处理json对象，拼接url
    data.jsonpcallback = callback
    let params = []
    for (let key in data) &#123;
        params.push(key + &#39;=&#39; + data[key])
    &#125;
    let script = document.createElement(&#39;script&#39;)
    script.src = url + &#39;?&#39; + params.join(&#39;&amp;&#39;)
    document.body.appendChild(script)
    //返回Promise
    return new Promise((resolve, reject) =&gt; &#123;
        window[callback] = data =&gt; &#123;
            try &#123;
                resolve(data)
            &#125; catch (e) &#123;
                reject(e)
            &#125; finally &#123;
                //移除script元素
                script.parentNode.removeChild(script)
                // window[callback] = null
                delete window[callback]
            &#125;
        &#125;
    &#125;)
&#125;
</code></pre>
<h2 id="字节转化"><a href="#字节转化" class="headerlink" title="字节转化"></a>字节转化</h2><pre><code>function bytesToSize(bytes:number) &#123;
  if (bytes === 0) return &#39;0 B&#39;;
  const k = 1024;
  const sizes = [&#39;B&#39;, &#39;KB&#39;, &#39;MB&#39;, &#39;GB&#39;, &#39;TB&#39;, &#39;PB&#39;, &#39;EB&#39;, &#39;ZB&#39;, &#39;YB&#39;];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return (bytes / (k**i)).toFixed(2) + &#39; &#39; + sizes[i];
&#125;
</code></pre>
<h2 id="千位分字符"><a href="#千位分字符" class="headerlink" title="千位分字符"></a>千位分字符</h2><pre><code>function milliFormat(num) &#123;
    return num &amp;&amp; num.toString()
        .replace(/\d+/, function(s)&#123;
             return s.replace(/(\d)(?=(\d&#123;3&#125;)+$)/g, &#39;$1,&#39;)
         &#125;)
&#125;
</code></pre>
<h2 id="删除url指定参数"><a href="#删除url指定参数" class="headerlink" title="删除url指定参数"></a>删除url指定参数</h2><pre><code>function removeURLParameter(url, parameter) &#123;
    var urlparts = url.split(&#39;?&#39;);
    if(urlparts.length &gt;= 2) &#123;
        //参数名前缀
        var prefix = encodeURIComponent(parameter) + &#39;=&#39;;
        var pars = urlparts[1].split(/[&amp;;]/g);
 
        //循环查找匹配参数
        for(var i = pars.length; i-- &gt; 0;) &#123;
            if(pars[i].lastIndexOf(prefix, 0) !== -1) &#123;
                //存在则删除
                pars.splice(i, 1);
            &#125;
        &#125;
 
        return urlparts[0] + (pars.length &gt; 0 ? &#39;?&#39; + pars.join(&#39;&amp;&#39;) : &#39;&#39;);
    &#125;
    return url;
&#125;
</code></pre>
<h2 id="css自定义属性"><a href="#css自定义属性" class="headerlink" title="css自定义属性"></a>css自定义属性</h2><pre><code>/* 属性定义宽度 */
const data_w = document.querySelectorAll(&#39;[data-w]&#39;)
for (let i = 0, length = data_w.length; i &lt; length; i++) &#123;
    data_w[i].style.width = data_w[i].getAttribute(&#39;data-w&#39;) + &#39;px&#39;
&#125;
</code></pre>
<h2 id="获取cookie"><a href="#获取cookie" class="headerlink" title="获取cookie"></a>获取cookie</h2><pre><code>function getCookie(name)&#123;    
    var arr = document.cookie.match(new RegExp(&quot;(^| )&quot;+name+&quot;=([^;]*)(;|$)&quot;));  
    if(arr != null) 
        return decodeURI(arr[2]);
    return null;  
&#125;
</code></pre>
<h2 id="写cookie"><a href="#写cookie" class="headerlink" title="写cookie"></a>写cookie</h2><pre><code>function setCookie(cName, cValue, days) &#123;  
    var expires = new Date();  
    expires.setTime(expires.getTime() + parseInt(days) * 24 * 60 * 60 * 1000);  
    document.cookie = cName + &quot;=&quot; + escape(cValue) + &quot;;expires=&quot; + expires.toGMTString()+&quot;;path=/;domain=xxx.cn&quot;;  
&#125;;
</code></pre>
<h2 id="判断客户端"><a href="#判断客户端" class="headerlink" title="判断客户端"></a>判断客户端</h2><pre><code>function isPC()&#123;  
   let userAgentInfo = navigator.userAgent
   let Agents = new Array(&#39;Android&#39;, &#39;iPhone&#39;, &#39;SymbianOS&#39;, &#39;Windows Phone&#39;, &#39;iPad&#39;, &#39;iPod&#39;)  
   let flag = true  
   for (let v = 0; v &lt; Agents.length; v++) &#123;  
       if (userAgentInfo.indexOf(Agents[v]) &gt; 0) &#123; flag = false; break &#125;  
   &#125;  
   return flag  
&#125;
</code></pre>
<h2 id="获取地址栏参数"><a href="#获取地址栏参数" class="headerlink" title="获取地址栏参数"></a>获取地址栏参数</h2><pre><code>function getQueryString(name) &#123;
    let reg = new RegExp(&quot;(^|&amp;)&quot; + name + &quot;=([^&amp;]*)(&amp;|$)&quot;, &quot;i&quot;);
    let r = window.location.search.substr(1).match(reg);
    if (r != null) &#123;
        return unescape(r[2]);
    &#125;;
    return null;
 &#125;
</code></pre>
<h2 id="正则"><a href="#正则" class="headerlink" title="正则"></a>正则</h2><h3 id="域名校验"><a href="#域名校验" class="headerlink" title="域名校验"></a>域名校验</h3><pre><code>/^([a-zA-Z\d][a-zA-Z\d-_]+\.)+[a-zA-Z\d-_][^ ]*$/
</code></pre>
<h3 id="匹配-开头-结尾"><a href="#匹配-开头-结尾" class="headerlink" title="匹配[开头]结尾"></a>匹配[开头]结尾</h3><pre><code>/(?&lt;=\[).*?(?=\])/g

str = str.match(/aaa([\s\S]*?)fff/)[1];
</code></pre>
<h3 id="匹配-之前"><a href="#匹配-之前" class="headerlink" title="匹配@之前"></a>匹配@之前</h3><pre><code>str = str.match(/(\S*)@/)[1];
</code></pre>
<h3 id="匹配-之后"><a href="#匹配-之后" class="headerlink" title="匹配@之后"></a>匹配@之后</h3><pre><code>str = str.match(/@(\S*)/)[1];
</code></pre>
<h3 id="正则提取ip"><a href="#正则提取ip" class="headerlink" title="正则提取ip"></a>正则提取ip</h3><pre><code>const a = /((2[0-4]\d|25[0-5]|[01]?\d\d?)\.)&#123;3&#125;(2[0-4]\d|25[0-5]|[01]?\d\d?)/
let str=&quot;dsfg[\&quot;0.0.0.0/0\&quot;],fs&quot;
str.match(a)
</code></pre>
<h2 id="正则提取邮箱"><a href="#正则提取邮箱" class="headerlink" title="正则提取邮箱"></a>正则提取邮箱</h2><pre><code>[a-zA-Z0-9_]&#123;3,20&#125;@[a-zA-Z0-9]&#123;2,10&#125;[.](com|cn|org)
var a1=/[\w-|*]+@[\w]+\.[a-zA-Z0-9]+/
var str1=&quot;fasf[\&quot;rr-o@dev.com\&quot;]fkasf&quot;
str1.match(a1)
</code></pre>
<h2 id="isTrue"><a href="#isTrue" class="headerlink" title="isTrue"></a>isTrue</h2><pre><code>function isTrue(k) &#123;
  if (typeof k === &#39;string&#39;) &#123;
    return k === &#39;true&#39;;
  &#125;
  return !!k;
&#125;
</code></pre>
<h2 id="防抖函数"><a href="#防抖函数" class="headerlink" title="防抖函数"></a>防抖函数</h2><pre><code>/**
 * @desc 函数防抖
 * @param func 函数
 * @param wait 延迟执行毫秒数
 * @param immediate true 表立即执行，false 表非立即执行
 */
function debounce(func,wait,immediate) &#123;
    let timeout;
    return function () &#123;
        let context = this;
        let args = arguments;

        if (timeout) clearTimeout(timeout);
        if (immediate) &#123;
            var callNow = !timeout;
            timeout = setTimeout(() =&gt; &#123;
                timeout = null;
            &#125;, wait)
            if (callNow) func.apply(context, args)
        &#125;
        else &#123;
            timeout = setTimeout(function()&#123;
                func.apply(context, args)
            &#125;, wait);
        &#125;
    &#125;
&#125;
</code></pre>
<h2 id="节流函数"><a href="#节流函数" class="headerlink" title="节流函数"></a>节流函数</h2><pre><code>/**
 * @desc 函数节流
 * @param func 函数
 * @param wait 延迟执行毫秒数
 * @param type 1 表时间戳版，2 表定时器版
 */
 function throttle(fn, wait = 500) &#123;
    let prev = 0
    return function() &#123;
    let args = arguments
    let now = Date.now()
    if (now - prev &gt; wait) &#123;
      console.log(this)//谁调用就指向谁
      fn.apply(this, args)
      prev = now
    &#125;
  &#125;
&#125;
</code></pre>
<h2 id="深拷贝函数"><a href="#深拷贝函数" class="headerlink" title="深拷贝函数"></a>深拷贝函数</h2><pre><code>const deepClone = obj =&gt; &#123;
  let clone = obj;
  if (obj &amp;&amp; typeof obj === &quot;object&quot;) &#123;
    clone = new obj.constructor();
    
    Object.getOwnPropertyNames(obj).forEach(
      prop =&gt; (clone[prop] = deepClone(obj[prop]))
    );
  &#125;
  return clone;
&#125;;

function clone(target, map = new Map()) &#123;
    if (typeof target === &#39;object&#39;) &#123;
        let cloneTarget = Array.isArray(target) ? [] : &#123;&#125;;
        if (map.get(target)) &#123;
            return map.get(target);
        &#125;
        map.set(target, cloneTarget);
        for (const key in target) &#123;
            cloneTarget[key] = clone(target[key], map);
        &#125;
        return cloneTarget;
    &#125; else &#123;
        return target;
    &#125;
&#125;;
</code></pre>
<h2 id="转时间格式-到秒"><a href="#转时间格式-到秒" class="headerlink" title="转时间格式,到秒"></a>转时间格式,到秒</h2><pre><code>/*new Date()
* @params date
* return  str
* */
function formatDateTime(date) &#123;
    let y = date.getFullYear();
    let m = date.getMonth() + 1;
    m = m &lt; 10 ? (&#39;0&#39; + m) : m;
    let d = date.getDate();
    d = d &lt; 10 ? (&#39;0&#39; + d) : d;
    let h = date.getHours();
    h=h &lt; 10 ? (&#39;0&#39; + h) : h;
    let minute = date.getMinutes();
    minute = minute &lt; 10 ? (&#39;0&#39; + minute) : minute;
    let second=date.getSeconds();
    second=second &lt; 10 ? (&#39;0&#39; + second) : second;
    return y + &#39;-&#39; + m + &#39;-&#39; + d+&#39; &#39;+h+&#39;:&#39;+minute+&#39;:&#39;+second;
&#125;;
//时间戳格式化
    timestampToTime(timestamp) &#123;
      let date = new Date(timestamp);//时间戳为10位需*1000，时间戳为13位的话不需乘1000
      let Y = date.getFullYear() + &#39;-&#39;;
      let M = (date.getMonth() + 1 &lt; 10 ? &#39;0&#39; + (date.getMonth() + 1) : date.getMonth() + 1) + &#39;-&#39;;
      let D = (date.getDate() &lt; 10 ? &#39;0&#39; + date.getDate() : date.getDate()) + &#39; &#39;;
      let h = (date.getHours() &lt; 10 ? &#39;0&#39; + date.getHours() : date.getHours())+ &#39;:&#39;;
      let m = (date.getMinutes() &lt; 10 ? &#39;0&#39; + date.getMinutes() : date.getMinutes())+ &#39;:&#39;;
      let s = date.getSeconds() &lt; 10 ? &#39;0&#39; + date.getMinutes() : date.getMinutes();
      return Y + M + D + h + m + s;
    &#125;,
</code></pre>
<h2 id="生成随机验证码"><a href="#生成随机验证码" class="headerlink" title="生成随机验证码"></a>生成随机验证码</h2><pre><code>function mkLinks(num)&#123;
                var str=&quot;23QWERTYUIOPASDFGHJKLZXCVBNM1456789zxcvbnmasdfghjklqwertyuiop&quot;;
                var res=&#39;&#39;;
                for(var i=0;i&lt;num;i++)&#123;
                    res+=str[Math.floor(Math.random()*str.length)];
                &#125;
                return res;
            &#125;
</code></pre>
<h2 id="删除数组里指定下标的元素"><a href="#删除数组里指定下标的元素" class="headerlink" title="删除数组里指定下标的元素"></a>删除数组里指定下标的元素</h2><p>删除指定下标-返回删除后的数组 与splice()相似-返回删除的数组</p>
<pre><code>    Array.prototype.delete = function (delIndex) &#123;
        var temArray = [];
        for (var i = 0; i &lt; this.length; i++) &#123;
            if (i != delIndex) &#123;
                temArray.push(this[i]);
            &#125;
        &#125;
        return temArray;
    &#125;;
</code></pre>
<h2 id="点击切换函数"><a href="#点击切换函数" class="headerlink" title="点击切换函数"></a>点击切换函数</h2><pre><code>function switchTab(btn) &#123;
        for (let i = 0; i &lt; btn.length; i++) &#123;
            btn[i].index = i;
            btn[i].onclick = function () &#123;
                for (let j = 0; j &lt; btn.length; j++) &#123;
                    btn[j].classList.remove(&quot;isCheck&quot;)
                    btn[this.index].classList.add(&quot;isCheck&quot;);
                &#125;
            &#125;
        &#125;
    &#125;
</code></pre>
<h2 id="js-map-格式转化为对象"><a href="#js-map-格式转化为对象" class="headerlink" title="js map 格式转化为对象"></a>js map 格式转化为对象</h2><pre><code>function  _strMapToObj(strMap)&#123;
    let obj= Object.create(null);
    for (let[k,v] of strMap) &#123;
      obj[k] = v;
    &#125;
    return obj;
  &#125;
</code></pre>
<h2 id="时间戳转时间"><a href="#时间戳转时间" class="headerlink" title="时间戳转时间"></a>时间戳转时间</h2><pre><code>function timestampToTime(timestamp) &#123;
  var date = new Date(timestamp * 1000);//时间戳为10位需*1000，时间戳为13位的话不需乘1000
  var Y = date.getFullYear() + &#39;-&#39;;
  var M = (date.getMonth() + 1 &lt; 10 ? &#39;0&#39; + (date.getMonth() + 1) : date.getMonth() + 1) + &#39;-&#39;;
  var D = date.getDate() + &#39; &#39;;
  var h = date.getHours() + &#39;:&#39;;
  var m = date.getMinutes() + &#39;:&#39;;
  var s = date.getSeconds();
  return Y + M + D + h + m + s;
&#125;
</code></pre>
<h2 id="一键复制"><a href="#一键复制" class="headerlink" title="一键复制"></a>一键复制</h2><pre><code>/*一键复制函数*/
    function copyUrl(data) &#123;
        let url = data;
        let oInput = document.createElement(&#39;input&#39;);
        oInput.value = url;
        document.body.appendChild(oInput);
        oInput.select(); // 选择对象;
        console.log(oInput.value)
        document.execCommand(&quot;Copy&quot;); // 执行浏览器复制命令
        alert(&#39;复制成功&#39;)
        oInput.remove()
    &#125;
</code></pre>
<h2 id="初始化rem"><a href="#初始化rem" class="headerlink" title="初始化rem"></a>初始化rem</h2><pre><code>function refreshRem() &#123;
    var docEl = doc.documentElement;
    var width = docEl.getBoundingClientRect().width;
    var rem = width / 10;
    docEl.style.fontSize = rem + &#39;px&#39;;
    flexible.rem = win.rem = rem;
&#125;
win.addEventListener(&#39;resize&#39;, refreshRem);
</code></pre>
<h2 id="获取url参数"><a href="#获取url参数" class="headerlink" title="获取url参数"></a>获取url参数</h2><pre><code>function getUrlParams(name) &#123; // 不传name返回所有值，否则返回对应值
    var url = window.location.search;
    if (url.indexOf(&#39;?&#39;) == 1) &#123; return false; &#125;
    url = url.substr(1);
    url = url.split(&#39;&amp;&#39;);
    var name = name || &#39;&#39;;
    var nameres;
    // 获取全部参数及其值
    for(var i=0;i&lt;url.length;i++) &#123;
        var info = url[i].split(&#39;=&#39;);
        var obj = &#123;&#125;;
        obj[info[0]] = decodeURI(info[1]);
        url[i] = obj;
    &#125;
    // 如果传入一个参数名称，就匹配其值
    if (name) &#123;
        for(var i=0;i&lt;url.length;i++) &#123;
            for (const key in url[i]) &#123;
                if (key == name) &#123;
                    nameres = url[i][key];
                &#125;
            &#125;
        &#125;
    &#125; else &#123;
        nameres = url;
    &#125;
    // 返回结果
    return nameres;
&#125;

 getParams(url) &#123;
        const index = url.indexOf(&#39;?&#39;) + 1
        const params = url.slice(index).split(&#39;&amp;&#39;)
        const obj=&#123;&#125;
        for(let i =0;i&lt;params.length;i++)&#123;
          obj[params[i].split(&quot;=&quot;)[0]]=params[i].split(&quot;=&quot;)[1]
        &#125;
        return obj;
      &#125;
</code></pre>
<h3 id="计算坐标集中心点"><a href="#计算坐标集中心点" class="headerlink" title="计算坐标集中心点"></a>计算坐标集中心点</h3><pre><code>calculateCenter(lnglatarr) &#123;
        let total = lnglatarr.length
        let X = 0, Y = 0, Z = 0
        lnglatarr.forEach((lnglat, index) =&gt; &#123;
          let lng = lnglat[0] * Math.PI / 180
          let lat = lnglat[1].includes(&#39;#&#39;)?lnglat[2] * Math.PI / 180:lnglat[1] * Math.PI / 180
          let x, y, z
          x = Math.cos(lat) * Math.cos(lng)
          y = Math.cos(lat) * Math.sin(lng)
          z = Math.sin(lat)
          X += x
          Y += y
          Z += z
        &#125;)
        X = X / total
        Y = Y / total
        Z = Z / total
        let Lng = Math.atan2(Y, X)
        let Hyp = Math.sqrt(X * X + Y * Y)
        let Lat = Math.atan2(Z, Hyp)
        return [Lng * 180 / Math.PI, Lat * 180 / Math.PI]
      &#125;,
</code></pre>
<h3 id="resetStyle"><a href="#resetStyle" class="headerlink" title="resetStyle"></a>resetStyle</h3><pre><code>html&#123;
   /* 标准字体大小可以，在移动端使用的rem适配的话会动态改变。 */
  font-size:14px;
  /*  使用IE盒模型（个人取舍，我一般设置width是这是盒子的真实大小，包括padding和border） */
  box-sizing: border-box;
  
&#125;

html,body&#123;
   /* 在有些手机浏览器中点击一个链接或着可点击元素的时候，会出现一个半透明的灰色背景； */
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    /* 提升移动端滚动的体验效果  */
  -webkit-overflow-scrolling: touch;
  overflow-scrolling: touch;
   /* 与浏览器窗口高度一致 */
  height: 100%;
&#125;

body&#123;
   /* 有些背景默认为浅灰色，所以统一设置为纯白 */
  background: #fff;
   /* 照着antd上面来的，在公司就别用微软雅黑了，不建议字体使用rem。 */
  font:14px,-apple-system,BlinkMacSystemFont,&#39;Segoe UI&#39;,&#39;PingFang SC&#39;,&#39;Hiragino Sans GB&#39;,&#39;Microsoft YaHei&#39;,
  &#39;Helvetica Neue&#39;,Helvetica,Arial,sans-serif,&#39;Apple Color Emoji&#39;,&#39;Segoe UI Emoji&#39;,&#39;Segoe UI Symbol&#39;
   /* 使字体更加顺滑 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
&#125;

 /* 去除浏览器默认的margin和padding, 自行删减一些不必要的标签 */
body,
p,
h1,
h2,
h3,
h4,
h5,
h6,
dl,
dd,
ul,
ol,
th,
td,
button,
figure,
input,
textarea,
form,
pre,
blockquote,
figure&#123;
margin: 0;
padding: 0;
&#125;

a&#123;
   /* 小手 */
  cursor: pointer;
   /* 取消超链接的默认下划线 */
  text-decoration:none;
   /* antd里面还做了 ， 看你团队需不需要这样的风格 */
  transition: color 0.3s ease;
&#125;

ol,
ul&#123;
   /* 去除自带的ugly样式。 */
  list-style:none     
&#125;

 /* 这些节点部分属性没有继承父节点样式，所有继承一下，并取消outline，外轮廓的效果 */
a,
h1,
h2,
h3,
h4,
h5,
h6,
input,
select,
button,
textarea &#123;
font-family: inherit;
font-size: inherit;
font-weight: inherit;
font-style: inherit;
line-height: inherit;
color: inherit;
outline: none;
&#125;

button,
input[type=&#39;submit&#39;],
input[type=&#39;button&#39;] &#123;
 /* 可点击小手 */
cursor: pointer;
&#125;
 /* 取消部分浏览器数字输入控件的操作按钮 apperance可以改变控件的外观。 */
input[type=&#39;number&#39;] &#123;
-moz-appearance: textfield;
&#125;
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button &#123;
margin: 0;
-webkit-appearance: none;
&#125;
/**
 * 删除Firefox中的内边框和填充。
 */
button::-moz-focus-inner,
[type=&quot;button&quot;]::-moz-focus-inner,
[type=&quot;reset&quot;]::-moz-focus-inner,
[type=&quot;submit&quot;]::-moz-focus-inner &#123;
  border-style: none;
  padding: 0;
&#125;
/**
 * 让html5中的hidden在IE10中正确显示
 */

[hidden] &#123;
  display: none;
&#125;
template &#123;
 /* 有些浏览器会显示template 不过template标签用的也少，自行取舍。 */
display: none;
&#125;
</code></pre>
<h3 id="移动端css-reset"><a href="#移动端css-reset" class="headerlink" title="移动端css reset"></a>移动端css reset</h3><pre><code>@charset &quot;utf-8&quot;;
/* 禁用iPhone中Safari的字号自动调整 */
html &#123;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
&#125;
/* 去除iPhone中默认的input样式 */
input[type=&quot;submit&quot;],
 
input[type=&quot;reset&quot;],
 
input[type=&quot;button&quot;],
 
input&#123;-webkit-appearance:none; resize: none;&#125;
/* 取消链接高亮  */
body,div,ul,li,ol,h1,h2,h3,h4,h5,h6,input,textarea,select,p,dl,dt,dd,a,img,button,form,table,th,tr,td,tbody,article, 
aside, details,figcaption,figure,footer,header,hgroup, menu,nav,section&#123; -webkit-tap-highlight-color:rgba(0, 0, 0, 0); &#125;
/* 设置HTML5元素为块 */
article, aside, details,figcaption,figure,footer,header,hgroup, menu,nav,section &#123;
display: block;
&#125;
/* 图片自适应 */
img &#123;
max-width: 100%;
height: auto;
width:auto\9; /* ie8 */
-ms-interpolation-mode:bicubic;/*为了照顾ie图片缩放失真*/
&#125;
/* 初始化 */
body,div,ul,li,ol,h1,h2,h3,h4,h5,h6,input,textarea,select,p,dl,dt,dd,a,img,button,form,table,th,tr,td,tbody,article, 
aside, details,figcaption,figure,footer,header,hgroup, menu,nav,section&#123;margin:0; padding:0; border:none;box-sizing: border-box;&#125;
body&#123;font: normal 14px/1.5 Tahoma,&quot;Lucida Grande&quot;,Verdana,&quot;Microsoft Yahei&quot;,STXihei,hei;&#125;
em,i&#123;font-style:normal;&#125;
strong&#123;font-weight: normal;&#125;
.clearfix:after&#123;content:&quot;&quot;; display:block; visibility:hidden; height:0; clear:both;&#125;
.clearfix&#123;zoom:1;&#125;
a&#123;text-decoration:none; color:#969696; font-family: &#39;宋体&#39;,Microsoft YaHei,Tahoma,Arial,sans-serif;&#125;
a:hover&#123;color:#fff; text-decoration:none;&#125;
ul,ol&#123;list-style:none;&#125;
h1, h2, h3, h4, h5, h6&#123; font-size:100%; font-family: Microsoft YaHei;&#125;
img&#123;border: none;&#125;
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>nginx基础使用及代理跨域</title>
    <url>/2023/01/11/nginx%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%8F%8A%E4%BB%A3%E7%90%86%E8%B7%A8%E5%9F%9F/</url>
    <content><![CDATA[<p>nginx 根目录<br>brew info nginx</p>
<h2 id="一-下载解压-无需安装"><a href="#一-下载解压-无需安装" class="headerlink" title="一,下载解压(无需安装)"></a>一,下载解压(无需安装)</h2><p>路径不能出现中文<br><a href="http://nginx.org/en/download.html">下载地址</a></p>
<h2 id="二-修改配置文件"><a href="#二-修改配置文件" class="headerlink" title="二,修改配置文件"></a>二,修改配置文件</h2><p>根目录&gt;conf&gt;nginx.conf<br>server{}里面为一个服务,默认80,访问index.html</p>
<pre><code>server &#123;
        listen       5000;
        server_name  localhost;

        #charset koi8-r;

        #access_log  logs/host.access.log  main;

        location / &#123;
            root   html;
            index  index.html index.htm;
        &#125;
</code></pre>
<h2 id="三-常见命令"><a href="#三-常见命令" class="headerlink" title="三,常见命令"></a>三,常见命令</h2><p>启动</p>
<pre><code>start nginx
</code></pre>
<p>查看进程</p>
<pre><code>tasklist /fi &quot;imagename eq nginx.exe&quot;
</code></pre>
<p>修改配置文件之后的重启</p>
<pre><code>nginx -s reload
</code></pre>
<p>快速停止</p>
<pre><code>nginx -s stop
</code></pre>
<p>有序停止</p>
<pre><code>nginx -s quit
</code></pre>
<h1 id="以上说的是作为容器部署项目-现在说说利用nginx跨域"><a href="#以上说的是作为容器部署项目-现在说说利用nginx跨域" class="headerlink" title="以上说的是作为容器部署项目,现在说说利用nginx跨域"></a>以上说的是作为容器部署项目,现在说说利用nginx跨域</h1><p><strong>如果后台因为种种原因不能开放CORS,而jsonp又只能解决get请求<br>在vue项目中,开发环境我们可以配置node代理跨域<br>打包之后部署nginx反向代理跨域…</strong></p>
<h2 id="一-用node在本地起一个服务-端口为3000"><a href="#一-用node在本地起一个服务-端口为3000" class="headerlink" title="一,用node在本地起一个服务(端口为3000)"></a>一,用node在本地起一个服务(端口为3000)</h2><p><img src="https://img-blog.csdnimg.cn/20200120161957485.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="二-写一个简单的ajax请求-部署在nginx中-端口为5000"><a href="#二-写一个简单的ajax请求-部署在nginx中-端口为5000" class="headerlink" title="二,写一个简单的ajax请求,部署在nginx中(端口为5000)"></a>二,写一个简单的ajax请求,部署在nginx中(端口为5000)</h2><p><img src="https://img-blog.csdnimg.cn/20200120161935214.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="三-发起请求后出现跨域问题"><a href="#三-发起请求后出现跨域问题" class="headerlink" title="三,发起请求后出现跨域问题"></a>三,发起请求后出现跨域问题</h2><p>因为客户端在5000端口,服务端在3000端口<br><img src="https://img-blog.csdnimg.cn/20200120161412180.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="四-配置代理-nginx-conf"><a href="#四-配置代理-nginx-conf" class="headerlink" title="四,配置代理(nginx.conf)"></a>四,配置代理(nginx.conf)</h2><p>将本服务器的地址转发为后台的接口地址,即可解决跨域</p>
<pre><code> listen       5000;
        server_name  localhost;

        #charset koi8-r;

        #access_log  logs/host.access.log  main;

        location / &#123;
            root   html;
            index  index.html index.htm;
        &#125;
          # 新加的
        location /api &#123;
            proxy_pass   http://localhost:3000; # 后端接口 IP:port
        &#125;
</code></pre>
<p>修改一下地址<br><img src="https://img-blog.csdnimg.cn/20200120163825295.png" alt="在这里插入图片描述"></p>
<h2 id="五-前端跨域成功"><a href="#五-前端跨域成功" class="headerlink" title="五,前端跨域成功"></a>五,前端跨域成功</h2><p><img src="https://img-blog.csdnimg.cn/20200120163936235.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>看看代理之后的地址<br><img src="https://img-blog.csdnimg.cn/20200120164315277.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>还有很多种配置代理跨域的方法 个人认为这种比较简单</p>
<h1 id="有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）"><a href="#有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）" class="headerlink" title="有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）"></a>有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）</h1><p><img src="https://img-blog.csdnimg.cn/20210630200426927.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
]]></content>
  </entry>
  <entry>
    <title>nginx配合前端实现网站分流 ABtest</title>
    <url>/2023/01/11/nginx%E9%85%8D%E5%90%88%E5%89%8D%E7%AB%AF%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%AB%99%E5%88%86%E6%B5%81%20ABtest/</url>
    <content><![CDATA[<p>前端随机生成0-99的cookie，通过nginx分配10%的流量<br>nginx配置<br><img src="https://img-blog.csdnimg.cn/de62aee968d54dc1825d0be854c89cbe.png" alt="在这里插入图片描述"></p>
<p>前端生成cookie</p>
<pre><code>  (function()&#123;
                function random(min, max) &#123;
                     return Math.floor(Math.random() * (max - min)) + min;
                     &#125;
                function setCookie(name, value, days) &#123; // 设置cookie days设置过期时间 单位:天 不传默认是 cookie 在浏览器关闭时删除
                    var exp = new Date();
                    days = days || 30;
                    exp.setTime(exp.getTime() + days * 24 * 60 * 60 * 1000);
                    document.cookie = name + &quot;=&quot; + escape(value) + &quot;;expires=&quot; + exp.toGMTString() + &#39;;path=/&#39;;
                &#125;
                function getCookie(name) &#123; // 获取一个cookie  
                    var strCookie = document.cookie;
                    var arr = strCookie.split(&#39;;&#39;);
                    for (var i = 0; i &lt; arr.length; i++) &#123;
                        var t = arr[i].split(&quot;=&quot;);
                        if (t[0].trim() == name) &#123;
                            return t[1];
                        &#125;
                    &#125;;
                    return null;
                &#125;
                if(!getCookie(&#39;pagetest&#39;))&#123;
                    // alert(1)
                    setCookie(&#39;pagetest&#39;,random(0,99))
                    location.reload();
                &#125;
            &#125;)()
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>textarea多行邮箱格式校验</title>
    <url>/2023/01/11/textarea%E5%A4%9A%E8%A1%8C%E9%82%AE%E7%AE%B1%E6%A0%BC%E5%BC%8F%E6%A0%A1%E9%AA%8C/</url>
    <content><![CDATA[<p>效果<br><img src="https://img-blog.csdnimg.cn/cfdd54aca2bb4163bbf2b597e5296cbf.png" alt="在这里插入图片描述"><br>代码 vue element</p>
<pre><code>const validMail = (rule, value, callback) =&gt; &#123;
      if (!value) &#123;
        callback(new Error(&#39;请输入邮箱&#39;));
      &#125;
      value = value.replace(/[\n]/g, &#39;,&#39;);
      const reg = RegExp(/^(?=.*\.)(?=.*@).*$/);
      if (!value.includes(&#39;,&#39;)) &#123;
        if (!reg.test(value)) &#123;
          callback(new Error(&#39;邮箱格式错误&#39;));
        &#125; else &#123;
          callback();
        &#125;
      &#125; else &#123;
        let flag = -1;
        value.split(&#39;,&#39;).map((mail, index) =&gt; &#123;
          if (mail &amp;&amp; !reg.test(mail)) &#123;
            flag = index;
          &#125;
        &#125;);
        if (flag !== -1) &#123;
          callback(new Error(`第$&#123;flag + 1&#125;行邮箱格式错误`));
        &#125; else &#123;
          callback();
        &#125;
      &#125;
    &#125;;
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>vue基于element封装pro-table (搜索、表格、分页能力)</title>
    <url>/2023/01/11/vue%E5%9F%BA%E4%BA%8Eelement%E5%B0%81%E8%A3%85pro-table%20(%E6%90%9C%E7%B4%A2%E3%80%81%E8%A1%A8%E6%A0%BC%E3%80%81%E5%88%86%E9%A1%B5%E8%83%BD%E5%8A%9B)/</url>
    <content><![CDATA[<pre><code>&lt;template&gt;
  &lt;div class=&quot;page-box&quot;&gt;
    &lt;!-- 搜索选项 --&gt;
    &lt;el-form
      v-if=&quot;!!search&quot;
      class=&quot;search&quot;
      :model=&quot;searchModel&quot;
      :inline=&quot;true&quot;
      label-position=&quot;left&quot;
      :label-width=&quot;search.labelWidth&quot;
      ref=&quot;searchForm&quot;
    &gt;
      &lt;el-form-item
        v-for=&quot;item in search.fields&quot;
        :key=&quot;item.name&quot;
        :label=&quot;item.label&quot;
        :prop=&quot;item.name&quot;
      &gt;
        &lt;slot v-if=&quot;item.type === &#39;custom&#39;&quot; :name=&quot;item.slot&quot; /&gt;
        &lt;el-select
          v-else-if=&quot;item.type === &#39;select&#39;&quot;
          v-model=&quot;searchModel[item.name]&quot;
          :filterable=&quot;!!item.filterable&quot;
          :multiple=&quot;!!item.multiple&quot;
          clearable
          :placeholder=&quot;`请选择$&#123;item.label&#125;`&quot;
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        &gt;
          &lt;el-option
            v-for=&quot;option of item.options&quot;
            :key=&quot;option.value&quot;
            :label=&quot;option.name&quot;
            :value=&quot;option.value&quot;
          &gt;&lt;/el-option&gt;
        &lt;/el-select&gt;
        &lt;el-radio-group
          v-model=&quot;searchModel[item.name]&quot;
          v-else-if=&quot;item.type === &#39;radio&#39;&quot;
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        &gt;
          &lt;el-radio
            v-for=&quot;option of item.options&quot;
            :key=&quot;option.value&quot;
            :label=&quot;option.value&quot;
          &gt;&#123;&#123; option.name &#125;&#125;&lt;/el-radio&gt;
        &lt;/el-radio-group&gt;
        &lt;el-radio-group
          v-model=&quot;searchModel[item.name]&quot;
          v-else-if=&quot;item.type === &#39;radio-button&#39;&quot;
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        &gt;
          &lt;el-radio-button
            v-for=&quot;option of item.options&quot;
            :key=&quot;option.value&quot;
            :label=&quot;option.value&quot;
          &gt;&#123;&#123; option.name &#125;&#125;&lt;/el-radio-button&gt;
        &lt;/el-radio-group&gt;
        &lt;el-checkbox-group
          v-model=&quot;searchModel[item.name]&quot;
          v-else-if=&quot;item.type === &#39;checkbox&#39;&quot;
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        &gt;
          &lt;el-checkbox
            v-for=&quot;option of item.options&quot;
            :key=&quot;option.value&quot;
            :label=&quot;option.value&quot;
          &gt;&#123;&#123; option.name &#125;&#125;&lt;/el-checkbox&gt;
        &lt;/el-checkbox-group&gt;
        &lt;el-checkbox-group
          v-model=&quot;searchModel[item.name]&quot;
          v-else-if=&quot;item.type === &#39;checkbox-button&#39;&quot;
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        &gt;
          &lt;el-checkbox-button
            v-for=&quot;option of item.options&quot;
            :key=&quot;option.value&quot;
            :label=&quot;option.value&quot;
          &gt;&#123;&#123; option.name &#125;&#125;&lt;/el-checkbox-button&gt;
        &lt;/el-checkbox-group&gt;
        &lt;el-date-picker
          v-else-if=&quot;item.type === &#39;date&#39;&quot;
          v-model=&quot;searchModel[item.name]&quot;
          type=&quot;date&quot;
          value-format=&quot;yyyy-MM-dd&quot;
          :placeholder=&quot;`请选择$&#123;item.label&#125;`&quot;
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        &gt;&lt;/el-date-picker&gt;
        &lt;el-date-picker
          v-else-if=&quot;item.type === &#39;datetime&#39;&quot;
          v-model=&quot;searchModel[item.name]&quot;
          type=&quot;datetime&quot;
          value-format=&quot;yyyy-MM-dd HH:mm:ss&quot;
          clearable
          :placeholder=&quot;`请选择$&#123;item.label&#125;`&quot;
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        &gt;&lt;/el-date-picker&gt;
        &lt;el-date-picker
          v-else-if=&quot;item.type === &#39;daterange&#39;&quot;
          v-model=&quot;searchModel[item.name]&quot;
          type=&quot;daterange&quot;
          value-format=&quot;yyyy-MM-dd&quot;
          range-separator=&quot;-&quot;
          start-placeholder=&quot;开始日期&quot;
          end-placeholder=&quot;结束日期&quot;
          clearable
          @change=&quot;handleDateChange($event, item)&quot;
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        &gt;&lt;/el-date-picker&gt;
        &lt;el-date-picker
          v-else-if=&quot;item.type === &#39;datetimerange&#39;&quot;
          v-model=&quot;searchModel[item.name]&quot;
          type=&quot;datetimerange&quot;
          value-format=&quot;yyyy-MM-dd HH:mm:ss&quot;
          range-separator=&quot;-&quot;
          start-placeholder=&quot;开始时间&quot;
          end-placeholder=&quot;结束时间&quot;
          clearable
          @change=&quot;handleDateChange($event, item)&quot;
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        &gt;&lt;/el-date-picker&gt;
        &lt;el-input-number
          v-else-if=&quot;item.type === &#39;number&#39;&quot;
          v-model=&quot;searchModel[item.name]&quot;
          :placeholder=&quot;`请输入$&#123;item.label&#125;`&quot;
          controls-position=&quot;right&quot;
          :min=&quot;item.min&quot;
          :max=&quot;item.max&quot;
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        /&gt;
        &lt;el-input
          v-else-if=&quot;item.type === &#39;textarea&#39;&quot;
          type=&quot;textarea&quot;
          v-model=&quot;searchModel[item.name]&quot;
          clearable
          :placeholder=&quot;`请输入$&#123;item.label&#125;`&quot;
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        &gt;&lt;/el-input&gt;
        &lt;el-input
          v-else
          v-model=&quot;searchModel[item.name]&quot;
          :placeholder=&quot;`请输入$&#123;item.label&#125;`&quot;
          clearable
          :style=&quot;&#123; width: search.inputWidth, ...item.style &#125;&quot;
        &gt;&lt;/el-input&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item class=&quot;search-btn&quot;&gt;
        &lt;el-button type=&quot;primary&quot; icon=&quot;el-icon-search&quot; @click=&quot;handleSearch&quot;&gt;查询&lt;/el-button&gt;
        &lt;el-button @click=&quot;handleReset&quot; icon=&quot;el-icon-refresh-right&quot;&gt;重置&lt;/el-button&gt;
      &lt;/el-form-item&gt;
    &lt;/el-form&gt;

    &lt;!-- title 和 工具栏 --&gt;
    &lt;div class=&quot;head&quot; v-if=&quot;!hideTitleBar&quot;&gt;
      &lt;slot name=&quot;title&quot;&gt;
        &lt;span class=&quot;title&quot;&gt;&#123;&#123; title &#125;&#125;&lt;/span&gt;
      &lt;/slot&gt;
      &lt;div class=&quot;toolbar&quot;&gt;
        &lt;slot name=&quot;toolbar&quot;&gt;&lt;/slot&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;!-- table表格栏 --&gt;
    &lt;div class=&quot;table&quot;&gt;
      &lt;el-table
        v-loading=&quot;loading&quot;
        :data=&quot;tableData&quot;
        :row-key=&quot;rowKey&quot;
        :tree-props=&quot;tree.treeProps&quot;
        :lazy=&quot;tree.lazy&quot;
        :load=&quot;tree.load&quot;
        tooltip-effect=&quot;dark&quot;
        stripe
        :border=&quot;border&quot;
        @selection-change=&quot;handleSelectionChange&quot;
        @row-click=&quot;handlerRowClick&quot;
        ref=&quot;table&quot;
      &gt;
        &lt;el-table-column
          v-for=&quot;item in columns&quot;
          :key=&quot;item.label&quot;
          :filter-method=&quot;item.filters &amp;&amp; filterHandler&quot;
          :show-overflow-tooltip=&quot;!item.wrap&quot;
          v-bind=&quot;item&quot;
        &gt;
          &lt;template #header=&quot;scope&quot; v-if=&quot;!!item.labelSlot&quot;&gt;
            &lt;slot :name=&quot;item.labelSlot&quot; v-bind=&quot;scope&quot;&gt;&lt;/slot&gt;
          &lt;/template&gt;
          &lt;template #default=&quot;scope&quot; v-if=&quot;!!item.tdSlot&quot;&gt;
            &lt;slot :name=&quot;item.tdSlot&quot; v-bind=&quot;scope&quot;&gt;&lt;/slot&gt;
          &lt;/template&gt;
        &lt;/el-table-column&gt;
      &lt;/el-table&gt;
    &lt;/div&gt;
    &lt;!-- 分页 --&gt;
    &lt;el-pagination
      v-if=&quot;paginationConfig.show &amp;&amp; total &gt; 0&quot;
      class=&quot;pagination&quot;
      :style=&quot;paginationConfig.style&quot;
      @size-change=&quot;handleSizeChange&quot;
      :current-page.sync=&quot;pageNum&quot;
      @current-change=&quot;handleCurrentChange&quot;
      :page-sizes=&quot;paginationConfig.pageSizes&quot;
      :page-size.sync=&quot;pageSize&quot;
      :layout=&quot;paginationConfig.layout&quot;
      :total=&quot;total&quot;
    &gt;&lt;/el-pagination&gt;
  &lt;/div&gt;
&lt;/template&gt;
  &lt;script&gt;
const getSearchModel = (search) =&gt; &#123;
  const searchModel = &#123;&#125;;
  if (search &amp;&amp; search.fields) &#123;
    search.fields.forEach((item) =&gt; &#123;
      switch (item.type) &#123;
        case &#39;checkbox&#39;:
        case &#39;checkbox-button&#39;:
          searchModel[item.name] = [];
          break;
        default:
          break;
      &#125;
      if (item.defaultValue !== undefined) &#123;
        searchModel[item.name] = item.defaultValue;
        // 日期范围和时间范围真实变量默认值
        if ((item.type === &#39;daterange&#39; || item.type === &#39;datetimerange&#39;) &amp;&amp; !!item.trueNames &amp;&amp; Array.isArray(item.defaultValue)) &#123;
          item.defaultValue.forEach((val, index) =&gt; &#123;
            searchModel[item.trueNames[index]] = val;
          &#125;);
        &#125;
      &#125;
    &#125;);
  &#125;
  return searchModel;
&#125;;
export default &#123;
  components: &#123;&#125;,
  props: &#123;
    // 请求数据的方法
    // eslint-disable-next-line vue/require-default-prop
    request: &#123;
      type: Function,
    &#125;,
    // 表格标题
    title: &#123;
      type: String,
      default: &#39;&#39;,
    &#125;,
    // 是否隐藏标题栏
    hideTitleBar: &#123;
      type: Boolean,
      default: false,
    &#125;,
    // 搜索表单配置，false表示不显示搜索表单
    search: &#123;
      type: [Boolean, Object],
      default: false,
    &#125;,
    border: &#123;
      type: Boolean,
      default: false,
    &#125;,
    // 表头配置
    columns: &#123;
      type: Array,
      default: function (params) &#123;
        return [];
      &#125;,
    &#125;,
    // 行数据的Key，同elementUI的table组件的row-key
    rowKey: &#123;
      type: String,
      default: &#39;id&#39;,
    &#125;,
    // 分页配置，false表示不显示分页
    pagination: &#123;
      type: [Boolean, Object],
      default: () =&gt; (&#123;&#125;),
    &#125;,
    tree: &#123;
      type: Object,
      default: () =&gt; (&#123;&#125;),
    &#125;,
  &#125;,
  data() &#123;
    let paginationConfig = &#123;
      show: false,
    &#125;;
    if (typeof this.pagination === &#39;object&#39;) &#123;
      const &#123; layout, pageSizes, style &#125; = this.pagination;
      paginationConfig = &#123;
        show: true,
        layout: layout || &#39;total, sizes, prev, pager, next, jumper&#39;,
        pageSizes: pageSizes || [10, 20, 30, 40, 50, 100],
        style: style || &#123;&#125;,
      &#125;;
    &#125;

    return &#123;
      searchModel: getSearchModel(this.search),
      loading: false,
      tableData: [],
      total: 0,
      pageNum: 1,
      pageSize: (!!this.pagination &amp;&amp; this.pagination.pageSize) || 10,
      paginationConfig,
    &#125;;
  &#125;,
  created() &#123;
    // 请求列表数据
    this.getTableData();
  &#125;,
  methods: &#123;
    // 请求列表数据
    async getTableData() &#123;
      this.loading = true;
      const searchModel = this.optimizeFields(this.search);
      const &#123; data, total &#125; = await this.request(&#123;
        pageNum: this.pageNum,
        pageSize: this.pageSize,
        ...searchModel,
      &#125;);
      this.loading = false;
      this.tableData = data;
      this.total = total;
    &#125;,
    // 搜索
    handleSearch() &#123;
      this.pageNum = 1;
      this.getTableData();
    &#125;,
    // 重置函数
    handleReset() &#123;
      if (JSON.stringify(this.searchModel) === &#39;&#123;&#125;&#39;) &#123;
        return;
      &#125;
      this.pageNum = 1;
      this.searchModel = getSearchModel(this.search);
      this.getTableData();
    &#125;,
    // 刷新
    refresh() &#123;
      this.getTableData();
    &#125;,
    // 优化搜索字段，
    // 1、如果搜索配置有transform处理函数，执行transform
    // 2、删除日期范围默认的name字段
    optimizeFields(search) &#123;
      const searchModel = JSON.parse(JSON.stringify(this.searchModel));
      if (search &amp;&amp; search.fields) &#123;
        search.fields.forEach((item) =&gt; &#123;
          if (!searchModel.hasOwnProperty(item.name)) &#123;
            return;
          &#125;
          // eslint-disable-next-line no-extra-boolean-cast
          if (!!item.transform) &#123;
            searchModel[item.name] = item.transform(searchModel[item.name]);
          &#125;
          if ((item.type === &#39;daterange&#39; || item.type === &#39;datetimerange&#39;) &amp;&amp; !!item.trueNames) &#123;
            delete searchModel[item.name];
          &#125;
        &#125;);
      &#125;
      return searchModel;
    &#125;,
    // 当前页变化
    handleCurrentChange(page) &#123;
      this.getTableData();
    &#125;,
    // 改变每页size数量
    handleSizeChange(value) &#123;
      this.pageNum = 1;
      this.getTableData();
    &#125;,

    /* 行点击 */
    handlerRowClick(e)&#123;
        this.$emit(&#39;rowClick&#39;, e);
    &#125;,
    // 全选
    handleSelectionChange(arr) &#123;
      this.$emit(&#39;selectionChange&#39;, arr);
    &#125;,
    // 过滤方法
    filterHandler(value, row, column) &#123;
      const property = column[&#39;property&#39;];
      return row[property] === value;
    &#125;,
    // 日期范围
    handleDateChange(value, item) &#123;
      if (!item.trueNames) &#123;
        return;
      &#125;

      // eslint-disable-next-line no-extra-boolean-cast
      if (!!value) &#123;
        value.forEach((val, index) =&gt; &#123;
          this.searchModel[item.trueNames[index]] = val;
        &#125;);
      &#125; else &#123;
        item.trueNames.forEach((key) =&gt; &#123;
          delete this.searchModel[key];
        &#125;);
      &#125;
    &#125;,
  &#125;,
&#125;;
&lt;/script&gt;
  &lt;style lang=&quot;scss&quot; scoped&gt;
.page-box &#123;
  width: 100%;
  box-sizing: border-box;
  .search &#123;
    padding: 20px 20px 0;
    background: #fff;
    margin-bottom: 10px;
    display: flex;
    flex-wrap: wrap;
    .el-form-item &#123;
      margin-bottom: 20px;
    &#125;
    .search-btn &#123;
      margin-left: auto;
    &#125;
    ::v-deep &#123;
      .el-input-number .el-input__inner &#123;
        text-align: left;
      &#125;
    &#125;
  &#125;
  .head &#123;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 20px 0;
    background: #fff;
    .title &#123;
      font-size: 16px;
    &#125;
  &#125;
  .table &#123;
    padding: 20px;
    background: #fff;
    ::v-deep th &#123;
      background: #f6f6f6;
      color: rgba(0, 0, 0, 0.85);
    &#125;
  &#125;
  .pagination &#123;
    padding: 0 20px 20px;
    background: #fff;
    text-align: right;
    :last-child &#123;
      margin-right: 0;
    &#125;
  &#125;
&#125;
&lt;/style&gt;
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>vue实现选中li变色--小技巧</title>
    <url>/2023/01/11/vue%E5%AE%9E%E7%8E%B0%E9%80%89%E4%B8%ADli%E5%8F%98%E8%89%B2--%E5%B0%8F%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<p><strong>在methods中写入一个方法</strong></p>
<pre><code>clickcategory(index)&#123; // 这里我们传入一个当前值
　　this.categoryIndex = index
&#125;
</code></pre>
<p><strong>然后需要在data里面注册一下</strong></p>
<pre><code>data() &#123;
   return &#123;
    categoryIndex: 0, //点击当前背景变成白色索引
               &#125;
  &#125;,
</code></pre>
<p><strong>在css中设置我们当前选中项为active的类名，并给与一个白色的背景颜色</strong></p>
<pre><code>.active &#123;
 background: #fff
&#125;
</code></pre>
<p><strong>接下来在html中绑定</strong></p>
<pre><code>&lt;li @click=&quot;clickCategory(index)&quot; :class=&quot;&#123;active:categoryIndex==index&#125;&quot;&gt; &lt;!-- 选中当前动态绑定class --&gt;
 
&lt;/li&gt;
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>ffmpeg转化视频格式 去水印</title>
    <url>/2023/01/11/ffmpeg%E8%BD%AC%E5%8C%96%E8%A7%86%E9%A2%91%E6%A0%BC%E5%BC%8F%20%E5%8E%BB%E6%B0%B4%E5%8D%B0/</url>
    <content><![CDATA[<p>转化格式<br>ffmpeg -i xxx.flv -b:v 640k xxx.mp4<br>去水印 参数代表坐标与尺寸<br>ffmpeg -i “E:\迅雷下载\047.mp4” -vf “delogo&#x3D;x&#x3D;9:y&#x3D;293:w&#x3D;136:h&#x3D;94” -c:a copy<br>“47.mp4”<br><a href="https://blog.csdn.net/qq_34777982/article/details/124038072">https://blog.csdn.net/qq_34777982/article/details/124038072</a></p>
]]></content>
  </entry>
  <entry>
    <title>vue项目打包之后样式与本地不一致</title>
    <url>/2023/01/11/vue%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E4%B9%8B%E5%90%8E%E6%A0%B7%E5%BC%8F%E4%B8%8E%E6%9C%AC%E5%9C%B0%E4%B8%8D%E4%B8%80%E8%87%B4/</url>
    <content><![CDATA[<p>最近公司做的这个项目，要大量修改element里面的css样式，所以项目打包之后</p>
<p>会出现样式和本地开发的时候样式有很多不一样，原因可能是css加载顺序有问题，样式被覆改了。</p>
<p>所以在mian.js里面这样修改：<img src="https://img-blog.csdnimg.cn/20190709175448297.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>‘.&#x2F;APP’和’.&#x2F;router’放在element css的后面，router放到最后</p>
<p>还有就是每个vue组件里的style要加scoped,这很关键，起到css不被组件之间重叠的作用。</p>
]]></content>
  </entry>
  <entry>
    <title>zsh报错 Insecure completion-dependent directories detected</title>
    <url>/2023/01/11/zsh%E6%8A%A5%E9%94%99%20Insecure%20completion-dependent%20directories%20detected/</url>
    <content><![CDATA[<p>错误：Insecure completion-dependent directories detected<br>在vi ~&#x2F;.zshrc头部添加 ZSH_DISABLE_COMPFIX&#x3D;true 没用的情况下<br>解决方法<br>终端输入</p>
<pre><code>compaudit | xargs chmod g-w,o-w /home/用户名称/.oh-my-zsh/custom/plugins/zsh-autosuggestions
</code></pre>
<p><img src="https://img-blog.csdnimg.cn/825aab4e031640c39492835bf3d7ee20.png" alt="在这里插入图片描述"><br>解决</p>
]]></content>
  </entry>
  <entry>
    <title>vue项目打包之后,修改后台接口,以及生产环境和开发环境的接口配置</title>
    <url>/2023/01/11/vue%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E4%B9%8B%E5%90%8E,%E4%BF%AE%E6%94%B9%E5%90%8E%E5%8F%B0%E6%8E%A5%E5%8F%A3,%E4%BB%A5%E5%8F%8A%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E7%9A%84%E6%8E%A5%E5%8F%A3%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p>场景:在公司开发时用的是后台搭建的服务器,但是拿到外面部署时用的是真实服务器,不想每次改一次ip就打包一次,而且去部署时也不一定提前知道对方的ip…无法现场打包</p>
<p><strong>首先我们配置开发环境与生产环境接口地址,</strong><br>congif &gt; dev.env.js：开发环境<br>congif &gt; prod.env.js：正式（生产）环境</p>
<pre><code>这里的window.g.ApiUrl后面再讲,这里可以写成真实服务器ip
&#39;use strict&#39;
module.exports = &#123;
  NODE_ENV: &#39;&quot;production&quot;&#39;,
  //生产环境的url
  API_ROOT: &#39;window.g.ApiUrl&#39;
&#125;




&#39;use strict&#39;
const merge = require(&#39;webpack-merge&#39;)
const prodEnv = require(&#39;./prod.env&#39;)

module.exports = merge(prodEnv, &#123;
  NODE_ENV: &#39;&quot;development&quot;&#39;,
  //开发环境的url
  API_ROOT: &#39;&quot;http://192.168.2.32:8081/data-store&quot;&#39;
&#125;)
</code></pre>
<p>然后在用到这两个地址的时候使用 process.env.API_ROOT,<br>我这里是把地址存在vuex里面<br><img src="https://img-blog.csdnimg.cn/20190830161254420.png" alt="在这里插入图片描述"><br>这样一来,webpack就会自动区分环境,npm run dev时用开发地址,npm run build时用线上地址</p>
<p>再说一下打包之后怎么修改配置,在任何地方部署都不需要重新打包<br>第一步:在项目的static文件夹下新建config.js,内容如下<br>目的是把地址存到window全局下</p>
<pre><code>window.g = &#123;
    AXIOS_TIMEOUT: 10000,
    ApiUrl: &quot;http://192.168.2.32:8081/data-store&quot;, // 配置服务器地址,
    ParentPage: &#123;
        CrossDomainProxyUrl: &#39;/Home/CrossDomainProxy&#39;,
        BtnsApi: &#39;/api/services/app/Authorization/GetBtns&#39;,
        OrgsApi: &#39;/api/services/app/authorization/GetOrgsByUserId&#39;
    &#125;
&#125;
</code></pre>
<p>第二步：在index.html里面引入这个config.js<br>注意路径</p>
<pre><code>&lt;script type=&quot;text/javascript&quot; src=&quot;./static/config.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>第三步:在任意处使用 window.g.ApiUrl 调用接口<br>我这里是在生产环境的ip配置里调用的</p>
<pre><code>&#39;use strict&#39;
module.exports = &#123;
  NODE_ENV: &#39;&quot;production&quot;&#39;,
  //生产环境的url
  API_ROOT: &#39;window.g.ApiUrl&#39;
&#125;
</code></pre>
<p>此方法能有效解决打包,接口配置等问题,亲测有效,不会把config.js也打包进去<br>另外网上还有一种办法使用generate-asset-webpack-plugin<br><a href="https://www.jianshu.com/p/377bfd2d9034">https://www.jianshu.com/p/377bfd2d9034</a><br><a href="https://blog.csdn.net/qq_41409679/article/details/84878642">https://blog.csdn.net/qq_41409679/article/details/84878642</a><br>尝试之后会有报错,可能是我操作不当</p>
]]></content>
  </entry>
  <entry>
    <title>win10开启ssh-agent</title>
    <url>/2023/01/11/win10%E5%BC%80%E5%90%AFssh-agent/</url>
    <content><![CDATA[<p>右键“我的电脑”（Windows 10上为“此电脑”），选择“管理”菜单项，打开计算机管理窗口。</p>
<ol>
<li>左栏选择服务；</li>
<li>右栏中找到OpenSSH Authentication Agent服务；</li>
<li>双击打开设置界面，将启动类型由禁用改为自动；</li>
<li>点击应用，这时才可以手动启动和停止agent服务；</li>
<li>点击启动按钮，启动agent服务。</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>【算法】数组转化为树</title>
    <url>/2023/01/11/%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E6%95%B0%E7%BB%84%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%A0%91/</url>
    <content><![CDATA[<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><pre><code>let arr = [
    &#123;id: 1, name: &#39;部门1&#39;, pid: 0&#125;,
    &#123;id: 2, name: &#39;部门2&#39;, pid: 1&#125;,
    &#123;id: 3, name: &#39;部门3&#39;, pid: 1&#125;,
    &#123;id: 4, name: &#39;部门4&#39;, pid: 3&#125;,
    &#123;id: 5, name: &#39;部门5&#39;, pid: 4&#125;,
]
/**
 * 递归查找，获取children
 */
const getChildren = (data, result, pid) =&gt; &#123;
  for (const item of data) &#123;
    if (item.pid === pid) &#123;
      const newItem = &#123;...item, children: []&#125;;
      result.push(newItem);
      getChildren(data, newItem.children, item.id);
    &#125;
  &#125;
&#125;

/**
* 转换方法
*/
const arrayToTree = (data, pid) =&gt; &#123;
  const result = [];
  getChildren(data, result, pid)
  return result;
&#125;

arrayToTree (arr,0)
</code></pre>
<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><pre><code>&lt;script&gt;
let arr = [
    &#123;id: 1, name: &#39;部门1&#39;, pid: 0&#125;,
    &#123;id: 2, name: &#39;部门2&#39;, pid: 1&#125;,
    &#123;id: 3, name: &#39;部门3&#39;, pid: 1&#125;,
    &#123;id: 4, name: &#39;部门4&#39;, pid: 3&#125;,
    &#123;id: 5, name: &#39;部门5&#39;, pid: 4&#125;,
]
function arrayToTree(items) &#123;
    const result = [];   // 存放结果集
    const itemMap = &#123;&#125;;  // 
    // 先转成map存储
    for (const item of items) &#123;
      itemMap[item.id] = &#123;...item, children: []&#125;
    &#125;
    for (const item of items) &#123;
      if (item.pid === 0) &#123;
        result.push(itemMap[item.id]);
      &#125; else &#123;
        itemMap[item.pid].children.push(itemMap[item.id])
        console.log(item.pid)
      &#125;
  
    &#125;
    return result;
  &#125;

  console.log(JSON.stringify(arrayToTree(arr)))
&lt;/script&gt;
</code></pre>
<h3 id="最优"><a href="#最优" class="headerlink" title="最优"></a>最优</h3><pre><code>function arrayToTree(items) &#123;
  const result = [];   // 存放结果集
  const itemMap = &#123;&#125;;  // 
  for (const item of items) &#123;
    const id = item.id;
    const pid = item.pid;

    if (!itemMap[id]) &#123;
      itemMap[id] = &#123;
        children: [],
      &#125;
    &#125;

    itemMap[id] = &#123;
      ...item,
      children: itemMap[id][&#39;children&#39;]
    &#125;

    const treeItem =  itemMap[id];

    if (pid === 0) &#123;
      result.push(treeItem);
    &#125; else &#123;
      if (!itemMap[pid]) &#123;
        itemMap[pid] = &#123;
          children: [],
        &#125;
      &#125;
      itemMap[pid].children.push(treeItem)
    &#125;

  &#125;
  return result;
&#125;
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>原生js实现自定义样式的下拉选择</title>
    <url>/2023/01/11/%E5%8E%9F%E7%94%9Fjs%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F%E7%9A%84%E4%B8%8B%E6%8B%89%E9%80%89%E6%8B%A9/</url>
    <content><![CDATA[<p><a href="https://7x7ofz.csb.app/">预览</a></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot; /&gt;
    &lt;title&gt;Static Template&lt;/title&gt;
  &lt;/head&gt;
  &lt;style&gt;
    @charset &quot;UTF-8&quot;;
    * &#123;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    &#125;
    li &#123;
      list-style: none;
    &#125;
    /*下拉框样式*/
    #qy-select &#123;
      background: #fff;
      width: 120px;
      height: 28px;
      font-family: PingFangSC, &quot;Microsoft YaHei&quot;, sans-serif;
      font-size: 14px;
      color: #232d47;
      border: 1px rgba(38, 42, 51, 0.16) solid;
      border-radius: 4px;
      user-select: none;
      z-index: 9;
    &#125;

    #qy-select &gt; li &#123;
      height: 100%;
    &#125;

    #qy-select .select-head &#123;
      overflow: hidden;
      width: 100%;
      height: 100%;
      box-sizing: border-box;
      padding: 0 10px;
      line-height: 28px;
      display: flex;
      justify-content: space-around;
    &#125;

    #qy-select .select-head &gt; span &#123;
      height: 100%;
      display: flex;
      align-items: center;
    &#125;

    #qy-select .select-head .select-icon &#123;
      width: 8px;
      background: url(&quot;https://cowork-storage-public-cdn.lx.netease.com/common/2022/04/20/dd5d156dc30542f9b1de0349948eff8a.png&quot;)
        no-repeat center;
    &#125;

    #qy-select .select-head .select-head-cont &#123;
      float: left;
    &#125;

    #qy-select .select-head .select-icon &#123;
      float: right;
    &#125;

    #qy-select .option &#123;
      margin-top: 1px;
      padding: 8px 0;
      width: 100%;
      color: #232d47;
      background: #fff;
      text-align: center;
      border: 1px #cfcfcf solid;
      display: none;
      border-radius: 4px;
    &#125;

    #qy-select .option .option-item &#123;
      height: 32px;
      line-height: 32px;
    &#125;

    #qy-select .option-item:hover &#123;
      background: #f0f0f1;
      color: #386ee7;
    &#125;

    #qy-select:hover &#123;
      cursor: default;
    &#125;
  &lt;/style&gt;
  &lt;body&gt;
    &lt;ul id=&quot;qy-select&quot; class=&quot;g-price-edit-account-select&quot;&gt;
      &lt;li&gt;
        &lt;div class=&quot;select-head&quot;&gt;
          &lt;span class=&quot;select-head-cont&quot;&gt;&lt;/span&gt;
          &lt;span class=&quot;select-icon&quot;&gt;&lt;/span&gt;
        &lt;/div&gt;
        &lt;ul class=&quot;option&quot;&gt;
          &lt;li class=&quot;option-item&quot; value=&quot;a5&quot; default=&quot;true&quot;&gt;5账户/年&lt;/li&gt;
          &lt;li class=&quot;option-item&quot; value=&quot;a20&quot;&gt;20账户/年&lt;/li&gt;
          &lt;li class=&quot;option-item&quot; value=&quot;a50&quot;&gt;50账户/年&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/body&gt;
&lt;/html&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function () &#123;
    /* 下拉选择框 */
    var _selects = document.querySelectorAll(&quot;#qy-select&quot;);
    _selects.forEach((_select, index) =&gt; &#123;
      var selectHead = _select.getElementsByClassName(&quot;select-head&quot;)[0];
      var selectHeadCont = _select.getElementsByClassName(&quot;select-head-cont&quot;);
      var Option = _select.getElementsByClassName(&quot;option&quot;)[0];
      var optionItem = _select.querySelectorAll(&quot;.option-item&quot;);
      console.log(optionItem);
      //   默认选中
      optionItem.forEach((item, index) =&gt; &#123;
        if (item.getAttribute(&quot;default&quot;)) &#123;
          selectHeadCont[0].innerHTML = item.innerHTML;
          selectHeadCont[0].setAttribute(&quot;value&quot;, item.getAttribute(&quot;value&quot;));
        &#125;
      &#125;);
      /*出现下拉框*/
      _select.addEventListener(
        &quot;mouseenter&quot;,
        function () &#123;
          Option.style.display = &quot;block&quot;;
        &#125;,
        false
      );
      /*消失下拉框*/
      _select.addEventListener(
        &quot;mouseleave&quot;,
        function () &#123;
          Option.style.display = &quot;none&quot;;
        &#125;,
        false
      );
      /*点击选项后消失下拉框*/
      var len = optionItem.length;
      for (var i = 0; i &lt; len; i++) &#123;
        optionItem[i].index = i;
        optionItem[i].addEventListener(
          &quot;click&quot;,
          function () &#123;
            selectHeadCont[0].innerHTML = optionItem[this.index].innerHTML;
            selectHeadCont[0].setAttribute(
              &quot;value&quot;,
              optionItem[this.index].getAttribute(&quot;value&quot;)
            );
            Option.style.display = &quot;none&quot;;
          &#125;,
          false
        );
      &#125;
    &#125;);
  &#125;)();
&lt;/script&gt;
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>原生js拖拽滑动条</title>
    <url>/2023/01/11/%E5%8E%9F%E7%94%9Fjs%E6%8B%96%E6%8B%BD%E6%BB%91%E5%8A%A8%E6%9D%A1/</url>
    <content><![CDATA[<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;style&gt;
        #wrap&#123;
            width: 500px;
            height: 10px;
            background-color: red;
            position: relative;
        &#125;
        .bar_container&#123;
            width: 100%;
            height: 100%;
            background-color: aqua;
        &#125;
        .bar_into&#123;
            height: 100%;
            background-color: black;
            /* width: 100px; */
            width: 0;
        &#125;
        .bar_drag&#123;
            width: 10px;
            height: 10px;
            background-color: blue;
            position: absolute;
            cursor: default;
           top: 0;left: 0;
        &#125;
        .bar_text&#123;
            color: black;
            margin-top: 50px;
        &#125;
        .xxx&#123;
            /* background-color: red; */
            width: 100%;
            display: flex;
            justify-content: space-between;
            cursor: default;
        &#125;
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class=&quot;bar_wrap&quot; id=&quot;wrap&quot;&gt;&lt;!--外包裹元素--&gt;
        &lt;div class=&quot;bar_container&quot;&gt;&lt;!--滑动条--&gt;
          &lt;div class=&quot;bar_into&quot;&gt;&lt;/div&gt;&lt;!--滑动痕迹--&gt;
        &lt;/div&gt;
        &lt;div class=&quot;bar_drag&quot;&gt;&lt;!--滑块--&gt;
          &lt;div class=&quot;bar_text&quot;&gt;&lt;/div&gt;&lt;!--文本--&gt;
        &lt;/div&gt;
        &lt;div class=&quot;xxx&quot;&gt;
            &lt;span&gt;0&lt;/span&gt;
            &lt;span&gt;100&lt;/span&gt;
            &lt;span&gt;200&lt;/span&gt;
            &lt;span&gt;300&lt;/span&gt;
            &lt;span&gt;400&lt;/span&gt;
            &lt;span&gt;500&lt;/span&gt;
          &lt;/div&gt;
      &lt;/div&gt;
     
&lt;/body&gt;
&lt;script&gt;    
//获取外包裹元素
var eBarWrap = document.getElementById(&#39;wrap&#39;);
  //获取滑动条
  var eBarCon = eBarWrap.getElementsByClassName(&#39;bar_container&#39;)[0];
  //获取滑动痕迹元素
  var eBarInto = eBarWrap.getElementsByClassName(&#39;bar_into&#39;)[0];
  //获取滑块
  var eBarDrag = eBarWrap.getElementsByClassName(&#39;bar_drag&#39;)[0];
  //获取文本元素
  var eBarText = eBarWrap.getElementsByClassName(&#39;bar_text&#39;)[0];
  eBarText.innerHTML = 0;
  var nMax = eBarCon.offsetWidth - eBarDrag.offsetWidth;
  //滑块添加拖拽事件
  eBarDrag.addEventListener(&#39;mousedown&#39;,function(event)&#123;
    //初始化鼠标开始拖拽的点击位置
    var nInitX = event.clientX;
    //初始化滑块位置
    var nInitLeft = this.offsetLeft;
    //页面绑定鼠标移动事件
    document.onmousemove = event=&gt;&#123;
      //鼠标移动时取消默认行为，避免选中其他元素或文字
      event.preventDefault();
      //获取鼠标移动后滑块应该移动到的位置
      let nX = event.clientX - nInitX + nInitLeft;
      //限制滑块最大移动位置
      if(nX&gt;=nMax)&#123;
        nX = nMax;
      &#125;
      //限制滑块最小移动位置
      if(nX&lt;=0)&#123;
        nX = 0;
      &#125;
      //修改滑块位置（因为用的是箭头函数，所以this还是指向滑块）
      this.style.left = nX + &#39;px&#39;;
      //修改滑动痕迹宽度
      console.log(&#39;nx---&#39;,nX)
      eBarInto.style.width = nX + this.offsetWidth/2 + &#39;px&#39;;
      //修改文本数值
      eBarText.innerHTML = Math.ceil(nX/nMax*100)/0.2;
    &#125;;
     //鼠标松开绑定事件，取消页面上所有事件
     document.onmouseup = function(event)&#123;
      document.onmousemove = null;
      document.onmouseup = null;
      
    &#125;
  &#125;);
  //滑动条添加点击事件
  eBarCon.addEventListener(&#39;click&#39;,function(event)&#123;
    //设置滑动条位置
    var nLeft = this.offsetLeft;
    //获取有定位的父元素
    var eParent = this.offsetParent;
    //循环所有有定位的父元素
    while(eParent)&#123;
      //添加定位父元素offsetLeft值，用于准确定位滑动条与页面左侧的距离 
      nLeft += eParent.offsetLeft;
      //再次获取父元素外的定位父元素
      eParent = eParent.offsetParent;
    &#125;
    //计算滑块位置
    var nX = event.clientX - nLeft;
    //修改滑块位置
    eBarDrag.style.left = nX +&#39;px&#39;;
    //修改滑动痕迹宽度
    eBarInto.style.width = nX + eBarDrag.offsetWidth/2 + &#39;px&#39;;
    //修改文本数值
    eBarText.innerHTML = Math.ceil(nX/nMax*100)/10
  &#125;);
&lt;/script&gt;
&lt;/html&gt;
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>各平台ua</title>
    <url>/2023/01/11/%E5%90%84%E5%B9%B3%E5%8F%B0ua/</url>
    <content><![CDATA[<h3 id="个人微信"><a href="#个人微信" class="headerlink" title="个人微信"></a>个人微信</h3><p>MicroMessenger</p>
<h3 id="企业微信"><a href="#企业微信" class="headerlink" title="企业微信"></a>企业微信</h3><p>wxwork</p>
<h3 id="QQ"><a href="#QQ" class="headerlink" title="QQ"></a>QQ</h3><p>MQQBrowser</p>
<h3 id="钉钉"><a href="#钉钉" class="headerlink" title="钉钉"></a>钉钉</h3><p>DingTalk</p>
<h3 id="支付宝"><a href="#支付宝" class="headerlink" title="支付宝"></a>支付宝</h3><p>AlipayClient</p>
<h3 id="飞书"><a href="#飞书" class="headerlink" title="飞书"></a>飞书</h3><p>lark</p>
<p>可以使用小写<br>ua &#x3D; navigator.userAgent.toLowerCase();</p>
]]></content>
  </entry>
  <entry>
    <title>webpack常用loader和plugin</title>
    <url>/2023/01/11/webpack%E5%B8%B8%E7%94%A8loader%E5%92%8Cplugin/</url>
    <content><![CDATA[<ul>
<li>url-loader 将图片转化为base64 （url-loader包含file-loader）</li>
<li>file-loader 将url-loader不能转化的copy出来</li>
<li>css-loader 解析js中 import的css文件</li>
<li>style-loader 将css-loader解析的css生成style标签</li>
<li>html-loader 检测html文件中的标签如 img ，再使用url-loader处理 保证路径正确</li>
<li>mini-css-extract-plugin 将css-loader生成的css 放入单独的css文件 再结合html-webpack-plugin 通过link方式引入样式</li>
<li>html-webpack-plugin 创建一个html 文件，并把webpack 打包后的静态文件自动插入到这个html 文件当中</li>
<li></li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>后端返回文件流</title>
    <url>/2023/01/11/%E5%90%8E%E7%AB%AF%E8%BF%94%E5%9B%9E%E6%96%87%E4%BB%B6%E6%B5%81/</url>
    <content><![CDATA[<p>记得请求时加上<br>method: “get”,<br>responseType:‘blob’, &#x2F;&#x2F; 这里很重要</p>
<p>把拿到的流传进下面的方法</p>
<pre><code>function downloadFile(obj, name, suffix) &#123;
  const url = window.URL.createObjectURL(new Blob([obj]));
  const link = document.createElement(&quot;a&quot;);
  link.style.display = &quot;none&quot;;
  link.href = url;
  const fileName = parseTime(new Date()) + &quot;-&quot; + name + &quot;.&quot; + suffix;
  link.setAttribute(&quot;download&quot;, fileName);
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
&#125;
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>如何在vue项目中定义公共的less变量，在组件中使用</title>
    <url>/2023/01/11/%E5%A6%82%E4%BD%95%E5%9C%A8vue%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%AE%9A%E4%B9%89%E5%85%AC%E5%85%B1%E7%9A%84less%E5%8F%98%E9%87%8F%EF%BC%8C%E5%9C%A8%E7%BB%84%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<p>想把变量抽到一个公共的less文件中，然后在项目的各个组件都可以使用，试了很多方法都报错</p>
<h3 id="vue-cli2-x"><a href="#vue-cli2-x" class="headerlink" title="vue-cli2.x"></a>vue-cli2.x</h3><p><strong>一，安装loader</strong></p>
<pre><code>npm install sass-resources-loader --save-dev
</code></pre>
<p><strong>二，添加代码到build 的utils.js中exports.cssLoaders &#x3D; function (options) {}中</strong></p>
<pre><code> function lessResourceLoader() &#123;
        var loaders = [
            cssLoader,
            &#39;less-loader&#39;,
            &#123;
                loader: &#39;sass-resources-loader&#39;,
                options: &#123;
                    resources: [
                        path.resolve(__dirname, &#39;../src/assets/styles/common.less&#39;),
                    ]
                &#125;
                        &#125;
        ];
        if (options.extract) &#123;
            return ExtractTextPlugin.extract(&#123;
                use: loaders,
                fallback: &#39;vue-style-loader&#39;
            &#125;)
        &#125; else &#123;
            return [&#39;vue-style-loader&#39;].concat(loaders)
        &#125;
    &#125;
</code></pre>
<p>ps：path.resolve(__dirname, ‘…&#x2F;src&#x2F;assets&#x2F;styles&#x2F;common.less’)为自己对应的文件</p>
<p>然后后面将 return{} 块中的 less: generateLoaders(‘less’) 替换成上面自定义的函数 less:<br>lessResourceLoader()<br><img src="https://img-blog.csdnimg.cn/20190718180636462.png" alt="在这里插入图片描述"><br>最后重启服务 less生效！！<br>然后发现不需要在main.js里引入，也不需要在app.vue里引入</p>
<h3 id="vue-cli3及以上"><a href="#vue-cli3及以上" class="headerlink" title="vue-cli3及以上"></a>vue-cli3及以上</h3><p><strong>安装loader</strong></p>
<pre><code>vue add style-resources-loader
</code></pre>
<p><strong>vue.cogfig.js添加以下代码</strong></p>
<pre><code>const path = require(&quot;path&quot;);//这一段需要自行添加
module.exports = &#123;
  pluginOptions: &#123;
    &#39;style-resources-loader&#39;: &#123;
      preProcessor: &#39;less&#39;,
      patterns: [
        path.resolve(__dirname, &quot;src/style/global.less&quot;)//需要自行添加，这里的路径不要写错了
      ]
    &#125;
  &#125;
&#125;
</code></pre>
<h3 id="也可以把以上的less路径写成一个index-less-然后在index-less里去-import各个文件"><a href="#也可以把以上的less路径写成一个index-less-然后在index-less里去-import各个文件" class="headerlink" title="也可以把以上的less路径写成一个index.less,然后在index.less里去@import各个文件"></a>也可以把以上的less路径写成一个index.less,然后在index.less里去@import各个文件</h3><p>记住！less定义变量时一定要以;结尾<br>记住！less定义变量时一定要以;结尾<br>记住！less定义变量时一定要以;结尾</p>
]]></content>
  </entry>
  <entry>
    <title>记一次企业邮官网SEO优化</title>
    <url>/2023/01/11/%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BC%81%E4%B8%9A%E9%82%AE%E5%AE%98%E7%BD%91SEO%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h3 id="背景："><a href="#背景：" class="headerlink" title="背景："></a>背景：</h3><p>百度搜索 <em>网易企业邮箱</em> 会出现m.qiye.163.com 排名在前的问题</p>
<h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><ol>
<li><p>在pc和m站分别加入 、mobile<br>applicable-device标注可以帮助百度识别网站是PC站还是M站，给百度提交提交校验识别结果的正确性，减少百度蜘蛛把PC站当成M站，或者把M站当成PC站进行抓取。</p>
</li>
<li><p>在百度站长平台做移动适配 <img src="https://img-blog.csdnimg.cn/028e4cdff00b4b0bba88bb60d68737f7.png" alt="在这里插入图片描述"></p>
</li>
<li><p>js代码在pc和m站分别判断ua，跳转正确网页</p>
</li>
</ol>
<pre><code>if(is_pc)&#123;
    window.location.href = &#39;https://qiye.163.com&#39; + window.location.search;
&#125;
</code></pre>
<p>推测出现此问题的原因是 我们只在pc站做了3的跳转逻辑 有可能被百度知道了<br>所以导致pc搜关键词直接出移动站</p>
]]></content>
  </entry>
  <entry>
    <title>物理机安装Ubuntu</title>
    <url>/2023/01/11/%E7%89%A9%E7%90%86%E6%9C%BA%E5%AE%89%E8%A3%85Ubuntu/</url>
    <content><![CDATA[<h2 id="一，制作U盘启动盘"><a href="#一，制作U盘启动盘" class="headerlink" title="一，制作U盘启动盘"></a>一，制作U盘启动盘</h2><p>1，下载Ultraliso（软蝶通）<br>2，下载Ubuntu镜像<br>3，打开软蝶通，文件里打开下载的镜像<br><img src="https://img-blog.csdnimg.cn/20200307205615629.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>4，点击启动&gt;写入硬盘镜像 开始写入镜像文件<br><img src="https://img-blog.csdnimg.cn/20200307205729133.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="二，安装系统"><a href="#二，安装系统" class="headerlink" title="二，安装系统"></a>二，安装系统</h2><p>1，进入bios，各型号主板的快捷键不一，具体百度，我的dell是F2<br>2，开机直接进入安装，选择语言，键盘布局，时区等等，很简单<br><img src="https://img-blog.csdnimg.cn/2020030721043218.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20200307210519429.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="三，注意事项"><a href="#三，注意事项" class="headerlink" title="三，注意事项"></a>三，注意事项</h2><p>1，下载Ubuntu尽量去官网，选择与自己电脑相匹配的镜像（32&#x2F;64）<br>2，制作启动盘会格式化u盘，建议先备份</p>
<h1 id="有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）"><a href="#有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）" class="headerlink" title="有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）"></a>有想换工作的同学可以找我内推哦不低于15k（前端，java，测试）</h1><p><img src="https://img-blog.csdnimg.cn/202106302004354.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0NDcyNzIy,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
]]></content>
  </entry>
  <entry>
    <title>echarts可拖拽柱形图</title>
    <url>/2023/01/11/echarts%E5%8F%AF%E6%8B%96%E6%8B%BD%E6%9F%B1%E5%BD%A2%E5%9B%BE/</url>
    <content><![CDATA[<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;柱形图拖拽&lt;/title&gt;
    &lt;script src=&quot;https://cdn.staticfile.org/vue/2.2.2/vue.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;http://echarts.baidu.com/examples/vendors/echarts/echarts.min.js?_v_=1526486305040&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;app&quot;&gt;
    &lt;div id=&quot;chartTest&quot;  style=&quot;width: 600px;height: 400px;&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script&gt;
    var vm = new Vue(&#123;
        el: &quot;#app&quot;,
        data () &#123;
            return &#123;
                xAxisData: [&#39;一&#39;,&#39;二&#39;,&#39;三&#39;],
                //柱形数据数组
                seriesDataMain: [1700, 1200, 300],
                //这里辅助柱形数据数组,相同length的0
                seriesDataFz: [0, 0, 0],
                lineMax: [],
                lineMin: [],
                lineDataAll: [],
            &#125;;
        &#125;,
        methods: &#123;
            chartTest () &#123;
                let dom = document.getElementById(&#39;chartTest&#39;);
                let myChart = echarts.init(dom);
                let yAxisData = this.lineMax;
                let lineMin = this.lineMin;
                let lineDataAll = this.lineDataAll;
                this.chartAction(myChart, yAxisData, lineMin, lineDataAll);
            &#125;,
            chartAction (myChart, yAxisData, lineMin, lineDataAll) &#123;
                let option = &#123;
                    tooltip: &#123;
                        triggerOn: &#39;none&#39;,
                        formatter: function(params) &#123;
                            return &#39;X: &#39; + params.name + &#39;&lt;br&gt;Y最大: &#39; + parseInt(params.data);
                        &#125;
                    &#125;,
                    grid: &#123;
                        left: &#39;3%&#39;,
                        right: &#39;4%&#39;,
                        bottom: &#39;3%&#39;,
                        containLabel: true
                    &#125;,
                    xAxis: &#123;
                        type: &#39;category&#39;,
                        data: this.xAxisData
                    &#125;,
                    yAxis: &#123;
                        type: &#39;value&#39;,
                        max:3000,
                        min:0,
                        splitLine: &#123;
                            lineStyle: &#123;
                                color: &#39;#DBDBDB&#39;,
                                type: &#39;dashed&#39;
                            &#125;
                        &#125;,
                        axisLine: &#123;
                            show: true
                        &#125;,
                        axisTick: &#123;
                            show: false
                        &#125;
                    &#125;,
                    series: [
                        &#123;
                            id: &#39;line1&#39;,
                            type: &#39;line&#39;,
                            color: &#39;#188df0&#39;,
                            smooth: true,
                            symbol: &#39;emptyCircle&#39;,
                            symbolSize: 10,
                            data: yAxisData,
                            lineStyle: &#123;
                                color: &quot;transparent&quot;
                            &#125;
                        &#125;,
                        &#123;
                            id: &#39;line2&#39;,
                            type: &#39;line&#39;,
                            color: &#39;transparent&#39;,
                            itemStyle:&#123;
                                opacity:0
                            &#125;,
                            smooth: true,
                            symbol: &#39;emptyCircle&#39;,
                            symbolSize: 10,
                            data: lineMin,
                            lineStyle: &#123;
                                color: &quot;transparent&quot;
                            &#125;
                        &#125;,
                        &#123;
                            id: &quot;barMain&quot;,
                            name: &#39;主要&#39;,
                            type: &#39;bar&#39;,
                            stack: &#39;总量&#39;,
                            label: &#123;
                                normal: &#123;
                                    show: true,
                                    position: &#39;inside&#39;
                                &#125;
                            &#125;,
                            data: this.seriesDataMain,
                            itemStyle: &#123;
                                normal: &#123;
                                    color: new echarts.graphic.LinearGradient(
                                        0, 0, 0, 1,
                                        [
                                            &#123;offset: 0, color: &#39;#83bff6&#39;&#125;,
                                            &#123;offset: 0.5, color: &#39;#188df0&#39;&#125;,
                                            &#123;offset: 1, color: &#39;#188df0&#39;&#125;
                                        ]
                                    )
                                &#125;,
                                emphasis: &#123;
                                    color: new echarts.graphic.LinearGradient(
                                        0, 0, 0, 1,
                                        [
                                            &#123;offset: 0, color: &#39;#2378f7&#39;&#125;,
                                            &#123;offset: 0.7, color: &#39;#2378f7&#39;&#125;,
                                            &#123;offset: 1, color: &#39;#83bff6&#39;&#125;
                                        ]
                                    )
                                &#125;
                            &#125;,
                            barWidth: 20,
                        &#125;,
                    ]
                &#125;;
                myChart.setOption(option);
                // 拖拽
                setTimeout(function() &#123;
                    myChart.setOption(&#123;
                        graphic: echarts.util.map(lineDataAll, function(item, dataIndex) &#123;
                            let position = myChart.convertToPixel(&#39;grid&#39;, item);
                            return &#123;
                                id: dataIndex,
                                type: &#39;circle&#39;,
                                position: position,
                                shape: &#123;
                                    r: 5
                                &#125;,
                                invisible: true,
                                draggable: true,
                                ondrag: echarts.util.curry(onPointDragging, dataIndex),
                                onmousemove: echarts.util.curry(showTooltip, dataIndex),
                                onmouseout: echarts.util.curry(hideTooltip, dataIndex),
                                ondragend: echarts.util.curry(onPointDragEnd, dataIndex),
                                z: 100
                            &#125;;
                        &#125;)
                    &#125;);
                &#125;, 0);
                window.addEventListener(&#39;resize&#39;, updatePosition);
                let that = this;
                function updatePosition() &#123;
                    myChart.setOption(&#123;
                        graphic: echarts.util.map(lineDataAll, function(item, dataIndex) &#123;
                            return &#123;
                                position: myChart.convertToPixel(&#39;grid&#39;, item)
                            &#125;;
                        &#125;)
                    &#125;);
                &#125;

                function showTooltip(dataIndex) &#123;
                    if (dataIndex &lt; that.lineDataAll.length/2) &#123;
                        myChart.dispatchAction(&#123;
                            type: &#39;showTip&#39;,
                            seriesIndex: 0,
                            dataIndex: dataIndex
                        &#125;);
                    &#125; else &#123;
                        let index = dataIndex - that.lineDataAll.length/2;
                        myChart.dispatchAction(&#123;
                            type: &#39;showTip&#39;,
                            seriesIndex: 0,
                            dataIndex: index
                        &#125;);
                    &#125;

                &#125;

                function hideTooltip(dataIndex) &#123;
                    myChart.dispatchAction(&#123;
                        type: &#39;hideTip&#39;
                    &#125;);
                &#125;

                function onPointDragging(dataIndex, dx, dy) &#123;
                    if (dataIndex &lt; lineDataAll.length/2) &#123;
                        /*最高点值不能小于最低点的值*/
                        if (myChart.convertFromPixel(&#39;grid&#39;, this.position)[1]-that.seriesDataFz[dataIndex]&gt;=0) &#123;
                            lineDataAll[dataIndex][1] = myChart.convertFromPixel(&#39;grid&#39;, this.position)[1];
                            yAxisData = [];
                            for (let i=0;i&lt;(lineDataAll.length)/2;i++) &#123;
                                yAxisData.push(lineDataAll[i][1]);
                            &#125;
                            console.log(yAxisData);
                            myChart.setOption(&#123;
                                series: [&#123;
                                    id: &#39;line1&#39;,
                                    data: yAxisData
                                &#125;,&#123;
                                    id: &#39;line2&#39;,
                                    data: lineMin
                                &#125;]
                            &#125;);
                        &#125;
                    &#125;
                &#125;

                function onPointDragEnd(dataIndex, dx, dy) &#123;
                    myChart.setOption(&#123;
                        graphic: echarts.util.map(lineDataAll, function(item, dataIndex) &#123;
                            return &#123;
                                id: dataIndex,
                                position: myChart.convertToPixel(&#39;grid&#39;, [dataIndex, item])
                            &#125;
                        &#125;)
                    &#125;);
                    that.seriesDataFz = lineMin;
                    for (let i in yAxisData) &#123;
                        for (let j in that.seriesDataFz) &#123;
                            if (i==j) &#123;
                                that.seriesDataMain[i] = parseInt(yAxisData[i]) - parseInt(that.seriesDataFz[i]);
                            &#125;
                        &#125;
                    &#125;
                    that.chartAction(myChart, yAxisData, lineMin, lineDataAll);

                &#125;

                myChart.on(&#39;click&#39;, function (params) &#123;
                    that.inputValue = params.value;
                &#125;);
            &#125;
        &#125;,
        mounted ()&#123;
            for (let i in this.seriesDataFz) &#123;
                this.lineMax.push(this.seriesDataFz[i]+this.seriesDataMain[i]);
            &#125;
            console.log(this.lineMax);
            this.lineMin = this.seriesDataFz;
            // this.initChart();

            this.lineDataAll= [];
            for (let i in this.xAxisData) &#123;
                for (let j in this.lineMax) &#123;
                    if (i==j) &#123;
                        this.lineDataAll[i]=[this.xAxisData[i], this.lineMax[j]];
                    &#125;
                &#125;
            &#125;
            for (let i in this.xAxisData) &#123;
                for (let j in this.lineMin) &#123;
                    if (i==j) &#123;
                        let index = parseInt(i)+ parseInt(this.xAxisData.length);
                        this.lineDataAll[index]=[this.xAxisData[i], this.lineMin[j]];
                    &#125;
                &#125;
            &#125;
            console.log(this.lineDataAll);
            this.chartTest();
        &#125;
    &#125;);
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
]]></content>
  </entry>
  <entry>
    <title>前端劝退工程师</title>
    <url>/2023/01/11/%E5%89%8D%E7%AB%AF%E5%8A%9D%E9%80%80%E5%B7%A5%E7%A8%8B%E5%B8%88/</url>
    <content><![CDATA[<p>None</p>
]]></content>
  </entry>
</search>
